(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{267:function(t,s,a){"use strict";a.r(s);var n=a(6),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"前端工程化详解"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前端工程化详解"}},[t._v("#")]),t._v(" 前端工程化详解")]),t._v(" "),s("h2",{attrs:{id:"_1、工程化概要"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1、工程化概要"}},[t._v("#")]),t._v(" 1、工程化概要")]),t._v(" "),s("p",[t._v("系统级体系建设：编码、测试、构建、发布、运行、维护一整套体系")]),t._v(" "),s("ul",[s("li",[t._v("编码（可学习 umi）\n"),s("ul",[s("li",[t._v("技术选型：React\\vue，KOA\\Nestjs")]),t._v(" "),s("li",[t._v("开发模式：前后端分离、同构直出")]),t._v(" "),s("li",[t._v("组件库：antd、elementui")]),t._v(" "),s("li",[t._v("mock 方案：PWA mock、node server mock、mockjs")]),t._v(" "),s("li",[t._v("全家桶：路由、状态管理、调试工具")]),t._v(" "),s("li",[t._v("脚手架：手写、CRA、vuecli")]),t._v(" "),s("li",[t._v("目录划分、领域模型设计、分支管理方案、微前端")])])]),t._v(" "),s("li",[t._v("测试：TDD、自动化测试")]),t._v(" "),s("li",[t._v("构建\n"),s("ul",[s("li",[t._v("打包")]),t._v(" "),s("li",[t._v("文件压缩")]),t._v(" "),s("li",[t._v("code splitting")]),t._v(" "),s("li",[t._v("cache")]),t._v(" "),s("li",[t._v("更新：增量更新、热更新")]),t._v(" "),s("li",[t._v("css 预处理或后处理")]),t._v(" "),s("li",[t._v("build bundle or chunk")])])]),t._v(" "),s("li",[t._v("部署\n"),s("ul",[s("li",[t._v("持续集成/持续交付（CI/CD）")]),t._v(" "),s("li",[t._v("NGINX")]),t._v(" "),s("li",[t._v("Docker、K8S")]),t._v(" "),s("li",[t._v("灰度")]),t._v(" "),s("li",[t._v("监控")]),t._v(" "),s("li",[t._v("Jenkins")])])])]),t._v(" "),s("p",[t._v("前端工程化主要聚焦构建流程：使用工具处理与业务无关的内容：js 编译、打包、压缩、图片合并优化等各方面的工程性代码")]),t._v(" "),s("h2",{attrs:{id:"_2、具体类目"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2、具体类目"}},[t._v("#")]),t._v(" 2、具体类目")]),t._v(" "),s("h3",{attrs:{id:"_1、包管理工具"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1、包管理工具"}},[t._v("#")]),t._v(" 1、包管理工具")]),t._v(" "),s("p",[t._v("package manager：bower(不常用)、npm、yarn")]),t._v(" "),s("h4",{attrs:{id:"_1、npm"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1、npm"}},[t._v("#")]),t._v(" 1、npm")]),t._v(" "),s("p",[t._v("全称 node package manager，安装在 node_modules 目录下，必须拥有 package.json 文件，所有下载的模块，最终都会记录在 package-lock.json 完全锁定版本，下次我们再 npm install 时，就会先下载 package-lock.json 里面的版本：")]),t._v(" "),s("ul",[s("li",[t._v("name：包或者模块的名称")]),t._v(" "),s("li",[t._v("version：版本，大版本.次要版本.小版本\n"),s("ul",[s("li",[t._v("～：以大版本和次要版本为主，eg：～ 1.3.2，安装 1.3.x 的最新版本")]),t._v(" "),s("li",[t._v("：以大版本为主，eg：^1.3.2，安装 1.x.x 的最新版本")])])]),t._v(" "),s("li",[t._v("main：默认加载的入口文件")]),t._v(" "),s("li",[t._v("dependencies：运行时需要的模块")]),t._v(" "),s("li",[t._v("devDependencies：本地开发需要运行的模块")]),t._v(" "),s("li",[t._v("optionalDependencies：可选的模块，即使安装失败安装进程也会正常退出")]),t._v(" "),s("li",[t._v("peerDependencies：必须依赖的版本模块")])]),t._v(" "),s("h4",{attrs:{id:"_2、yarn"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2、yarn"}},[t._v("#")]),t._v(" 2、yarn")]),t._v(" "),s("p",[t._v("并发和快，常用命令可参考官网：yarn 参考 (opens new window)，具体为：")]),t._v(" "),s("p",[t._v("全部安装：yarn install\n添加：yarn add xx@xx ｜ yarn add xx --dev | yarn golbal add xx\n更新：yarn up xx@xx\n移除：yarn remove xx\n运行： yarn xx")]),t._v(" "),s("h3",{attrs:{id:"_2、静态检查和格式化工具"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2、静态检查和格式化工具"}},[t._v("#")]),t._v(" 2、静态检查和格式化工具")]),t._v(" "),s("h4",{attrs:{id:"_1、eslint"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1、eslint"}},[t._v("#")]),t._v(" 1、eslint")]),t._v(" "),s("ul",[s("li",[t._v("安装： npm install eslint --save-dev，本地运行依赖")]),t._v(" "),s("li",[t._v("配置：.eslintrc(全局配置)、文件配置/_ no-unused-vars：off _/")]),t._v(" "),s("li",[t._v("配置脚本\n"),s("ul",[s("li",[t._v("eslint index.js，可配置在 package.json 脚本中")]),t._v(" "),s("li",[t._v("eslint --fix *.js （--fix 默认修复）")])])]),t._v(" "),s("li",[t._v("丰富的插件，可参考： "),s("a",{attrs:{href:"https://eslint.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("eslint 官网"),s("OutboundLink")],1)])]),t._v(" "),s("h4",{attrs:{id:"_2、prettier"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2、prettier"}},[t._v("#")]),t._v(" 2、prettier")]),t._v(" "),s("p",[t._v("格式化工具，配置文件.prettierrc，参考："),s("a",{attrs:{href:"https://prettier.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("prettier 官网"),s("OutboundLink")],1)]),t._v(" "),s("h3",{attrs:{id:"_3、es-的编译"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3、es-的编译"}},[t._v("#")]),t._v(" 3、es 的编译")]),t._v(" "),s("p",[t._v("将 es 语法编译成支持的版本语法，常见工具为 babel")]),t._v(" "),s("h3",{attrs:{id:"_4、打包工具"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4、打包工具"}},[t._v("#")]),t._v(" 4、打包工具")]),t._v(" "),s("p",[t._v("模块化规范：commonjs、amd、cmd、esmodule，打包抹平模块化差异")]),t._v(" "),s("h4",{attrs:{id:"_1、browserify"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1、browserify"}},[t._v("#")]),t._v(" 1、browserify")]),t._v(" "),s("p",[t._v("将 commonjs 模块转换为可在浏览器运行的模块")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("npm install "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("save"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("dev browserify "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//安装")]),t._v("\nbrowserify index"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("o output"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//执行")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//index.js")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" moduleA "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./moduleA'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("moduleA"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//moduleA.js")]),t._v("\nmodule"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hello world"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//output.js")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("r")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("t")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("o")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("f")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" c"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"function"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" require"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v("require"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("f"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v("c"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("c")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("u"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("u")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" a"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Error")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Cannot find module \'"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\'"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("code"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MODULE_NOT_FOUND"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" p"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("exports")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("call")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("p"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("r")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("r"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("o")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v("r"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("p"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("p"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("r"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" u"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"function"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" require"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v("require"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("o")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" r"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("require"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("exports")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" moduleA "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./moduleA'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("moduleA"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"./moduleA"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("require"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("exports")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\nmodule"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hello world"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h4",{attrs:{id:"_2、rollup"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2、rollup"}},[t._v("#")]),t._v(" 2、rollup")]),t._v(" "),s("p",[t._v("tree shaking 概念：对 esmodule 模块进行静态分析和处理，以及删除无用代码")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("npm install "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("save"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("dev rollup   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//安装")]),t._v("\nrollup index"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("file output"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//输出")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//index.js")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" add "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./module'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" result "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//module.js")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" a "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//output.js，tree shaking去除了log()函数")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" a "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" result "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h4",{attrs:{id:"编译和打包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#编译和打包"}},[t._v("#")]),t._v(" 编译和打包")]),t._v(" "),s("p",[t._v("对于模块化相关的 import 和 export 关键字， babel 最终会将它编译为包含 require 和 exports 的 CommonJS 规范。 这就造成了另一个问题，这样带有模块化关键词的模块，编译之后还是没办法直接运行在浏览器中，因为浏览器端并不能运行 CommonJS 的模块。为了能在 WEB 端直接使用 CommonJS 规范的模块，除了编译之外，我们还需要一个步骤叫做打包(bundle)。")]),t._v(" "),s("p",[t._v("所以打包工具例如如 webpack / rollup ，编译工具 babel 它们之间的区别和作用就很清楚了")]),t._v(" "),s("ul",[s("li",[t._v("打包工具主要处理的是 JS 不同版本间模块化的区别")]),t._v(" "),s("li",[t._v("编译工具主要处理的是 JS 版本间语义的问题")])]),t._v(" "),s("h3",{attrs:{id:"_5、js-压缩工具"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5、js-压缩工具"}},[t._v("#")]),t._v(" 5、JS 压缩工具")]),t._v(" "),s("p",[t._v("添加 --source-map 在运行时生成 sitemap 文件，方便我们进行 debug")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("uglifyjs index"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("o output"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js\n")])])]),s("h3",{attrs:{id:"_6、流程化工具"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6、流程化工具"}},[t._v("#")]),t._v(" 6、流程化工具")]),t._v(" "),s("h4",{attrs:{id:"_1、grunt"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1、grunt"}},[t._v("#")]),t._v(" 1、grunt")]),t._v(" "),s("p",[t._v("流程式处理工具")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("安装：npm install --save-dev grunt")])]),t._v(" "),s("li",[s("p",[t._v("安装相关工具及 grunt 插件：npm --save-dev @babel/core @babel/preset-env grunt-babel grunt-contrib-uglify")])]),t._v(" "),s("li",[s("p",[t._v("配置 gruntfile.js 脚本，执行 grunt 进行编译和压缩等流程")]),t._v(" "),s("p",[t._v("问题：容易出现配置兼容等问题")])])]),t._v(" "),s("h4",{attrs:{id:"_2、gulp"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2、gulp"}},[t._v("#")]),t._v(" 2、gulp")]),t._v(" "),s("p",[t._v("流程式处理工具，安装 gulp，新建 gulpfifile.js 配置，执行 gulp 任务。相比 grunt 来说，配置更加清晰，是一个链式调用的写法。")]),t._v(" "),s("h4",{attrs:{id:"_3、fis3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3、fis3"}},[t._v("#")]),t._v(" 3、fis3")]),t._v(" "),s("p",[t._v("通用处理工具：fifis 是国内百度公司在早期发布的一款前端通用处理工具，fifis3 是它的第三代，使用 node.js 重写，不再是一个普通工具，而是一个具有插件化的系统，有着丰富和完善的社区环境，属于前端解决方案。")]),t._v(" "),s("h4",{attrs:{id:"_4、webpack"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4、webpack"}},[t._v("#")]),t._v(" 4、webpack")]),t._v(" "),s("p",[t._v("通用处理工具：")]),t._v(" "),s("p",[t._v("webpack 实际上和 gulp grunt 这类的任务处理工具有些类似，但是它本身具有打包的功能，同时也支持通过中间件和插件实现其他领域的功能，最终通过一个命令就能处理完成所有操作。")]),t._v(" "),s("p",[t._v("webpack 通过 webpack.confifig.js 配置，配置 loader 中间件来对不同文件进行操作，同时通过插件化的配置，支持例如压缩等操作")]),t._v(" "),s("h3",{attrs:{id:"_7、面试题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7、面试题"}},[t._v("#")]),t._v(" 7、面试题")]),t._v(" "),s("h4",{attrs:{id:"_1-devdependencies、dependencies、optionaldependencies-和-peerdependencies-区别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-devdependencies、dependencies、optionaldependencies-和-peerdependencies-区别"}},[t._v("#")]),t._v(" 1：devDependencies、dependencies、optionalDependencies 和 peerDependencies 区别")]),t._v(" "),s("p",[t._v("解析：")]),t._v(" "),s("p",[t._v("1.devDependencies 是指使用本地开发时需要使用的模块，而真正的业务运行时不用的内容")]),t._v(" "),s("p",[t._v("2.dependencies 是指业务运行时需要的模块")]),t._v(" "),s("p",[t._v("3.optionalDependencies 是可选模块，安不安装均可，即使安装失败，包的安装过程也不会报错")]),t._v(" "),s("p",[t._v("4.peerDependencies 必须依赖的版本模块，一般用在大型框架和库的插件上，例如我们写 webpack--xx-plugin 的时候，对于")]),t._v(" "),s("p",[t._v("使用者而言，他一定会先有 webpack 再安装我们的这个模块，这里的 peerDependencies 就是约束了包中 webpack 的版本。")]),t._v(" "),s("h4",{attrs:{id:"_2-npm-中-save-dev-和-save-之间的区别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-npm-中-save-dev-和-save-之间的区别"}},[t._v("#")]),t._v(" 2：npm 中 --save-dev 和 --save 之间的区别")]),t._v(" "),s("p",[t._v("1.save-dev 和 save 都会把模块安装到 node_modules 目录下。")]),t._v(" "),s("p",[t._v("2.save-dev 会将依赖名称和版本写到 devDependencies 下，⽽ save 会将依赖名称和版本写到 dependencies 下。")]),t._v(" "),s("h2",{attrs:{id:"_3、工程化典范"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3、工程化典范"}},[t._v("#")]),t._v(" 3、工程化典范")]),t._v(" "),s("p",[t._v("node 的 server 的架构工程说明")]),t._v(" "),s("ul",[s("li",[t._v("持续集成 CI：gitlab、gerrit 做分支管理")]),t._v(" "),s("li",[t._v("开发技术选型：express、koa")]),t._v(" "),s("li",[t._v("开发 dev：中间件 sso 权限管理、安全控制、ORM 数据库映射、CAT 监控（接口等）")]),t._v(" "),s("li",[t._v("部署 deploy：机器申请（dev/prod）、数据库申请（dev/prod）、网关域名 DNS 映射、编译构建打包(compile.sh 编译、run.sh 执行、check.sh 心跳检测、manifest.yml 构建文件(target: os、version、maven，runscript))")]),t._v(" "),s("li",[t._v("部署平台：deploy server/client，配置文件放置，通过点击操作即可实现部署配置")])])])}),[],!1,null,null,null);s.default=e.exports}}]);