<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>TypeScript基础 | 静</title>
    <meta name="generator" content="VuePress 1.9.8">
    
    <meta name="description" content="每天进步一点点">
    
    <link rel="preload" href="/blogs/assets/css/0.styles.2b370ae1.css" as="style"><link rel="preload" href="/blogs/assets/js/app.318ed052.js" as="script"><link rel="preload" href="/blogs/assets/js/2.b253f094.js" as="script"><link rel="preload" href="/blogs/assets/js/25.5d5a6655.js" as="script"><link rel="prefetch" href="/blogs/assets/js/10.dcbb07c9.js"><link rel="prefetch" href="/blogs/assets/js/11.38fbba51.js"><link rel="prefetch" href="/blogs/assets/js/12.2ea56a59.js"><link rel="prefetch" href="/blogs/assets/js/13.0e9d039e.js"><link rel="prefetch" href="/blogs/assets/js/14.2d2bccdc.js"><link rel="prefetch" href="/blogs/assets/js/15.664c4ac5.js"><link rel="prefetch" href="/blogs/assets/js/16.d2aac269.js"><link rel="prefetch" href="/blogs/assets/js/17.ba84ddbb.js"><link rel="prefetch" href="/blogs/assets/js/18.485ea954.js"><link rel="prefetch" href="/blogs/assets/js/19.a66e908f.js"><link rel="prefetch" href="/blogs/assets/js/20.0b04d503.js"><link rel="prefetch" href="/blogs/assets/js/21.6be10f09.js"><link rel="prefetch" href="/blogs/assets/js/22.159acd7d.js"><link rel="prefetch" href="/blogs/assets/js/23.4f195fc5.js"><link rel="prefetch" href="/blogs/assets/js/24.7f87a588.js"><link rel="prefetch" href="/blogs/assets/js/26.ae6e384a.js"><link rel="prefetch" href="/blogs/assets/js/27.242c2814.js"><link rel="prefetch" href="/blogs/assets/js/28.3a561971.js"><link rel="prefetch" href="/blogs/assets/js/29.5f10fcb0.js"><link rel="prefetch" href="/blogs/assets/js/3.3f822af5.js"><link rel="prefetch" href="/blogs/assets/js/30.936b6878.js"><link rel="prefetch" href="/blogs/assets/js/31.1347c229.js"><link rel="prefetch" href="/blogs/assets/js/32.d7feb56f.js"><link rel="prefetch" href="/blogs/assets/js/33.df5562d6.js"><link rel="prefetch" href="/blogs/assets/js/34.0c0a3c4a.js"><link rel="prefetch" href="/blogs/assets/js/35.986ca927.js"><link rel="prefetch" href="/blogs/assets/js/36.11d5619d.js"><link rel="prefetch" href="/blogs/assets/js/37.226a7009.js"><link rel="prefetch" href="/blogs/assets/js/38.d890e85c.js"><link rel="prefetch" href="/blogs/assets/js/39.3fea6c86.js"><link rel="prefetch" href="/blogs/assets/js/4.203b8c1d.js"><link rel="prefetch" href="/blogs/assets/js/40.ea2c4b60.js"><link rel="prefetch" href="/blogs/assets/js/41.c9ccd141.js"><link rel="prefetch" href="/blogs/assets/js/42.8681e81b.js"><link rel="prefetch" href="/blogs/assets/js/43.6722b2e0.js"><link rel="prefetch" href="/blogs/assets/js/44.6794f235.js"><link rel="prefetch" href="/blogs/assets/js/45.a40d2a94.js"><link rel="prefetch" href="/blogs/assets/js/46.661e6a50.js"><link rel="prefetch" href="/blogs/assets/js/47.b764e11a.js"><link rel="prefetch" href="/blogs/assets/js/48.44b2ca69.js"><link rel="prefetch" href="/blogs/assets/js/49.07d58d76.js"><link rel="prefetch" href="/blogs/assets/js/5.241843e3.js"><link rel="prefetch" href="/blogs/assets/js/50.c8d2e9af.js"><link rel="prefetch" href="/blogs/assets/js/51.33182cb5.js"><link rel="prefetch" href="/blogs/assets/js/52.ffc8990e.js"><link rel="prefetch" href="/blogs/assets/js/53.fe9f26ff.js"><link rel="prefetch" href="/blogs/assets/js/54.03f0e4ee.js"><link rel="prefetch" href="/blogs/assets/js/55.bcfe8e3c.js"><link rel="prefetch" href="/blogs/assets/js/56.e3679f22.js"><link rel="prefetch" href="/blogs/assets/js/57.fbec18db.js"><link rel="prefetch" href="/blogs/assets/js/58.7dfa5e6d.js"><link rel="prefetch" href="/blogs/assets/js/59.dda5f67e.js"><link rel="prefetch" href="/blogs/assets/js/6.181d1f0e.js"><link rel="prefetch" href="/blogs/assets/js/60.270ae626.js"><link rel="prefetch" href="/blogs/assets/js/61.6a2c3e9b.js"><link rel="prefetch" href="/blogs/assets/js/62.9990c1e5.js"><link rel="prefetch" href="/blogs/assets/js/63.5fbd0e7f.js"><link rel="prefetch" href="/blogs/assets/js/64.ea80a730.js"><link rel="prefetch" href="/blogs/assets/js/65.9bda3580.js"><link rel="prefetch" href="/blogs/assets/js/66.6976f074.js"><link rel="prefetch" href="/blogs/assets/js/67.6421fc3e.js"><link rel="prefetch" href="/blogs/assets/js/68.3c9a69d8.js"><link rel="prefetch" href="/blogs/assets/js/69.e2d07711.js"><link rel="prefetch" href="/blogs/assets/js/7.8d512ac6.js"><link rel="prefetch" href="/blogs/assets/js/70.686ebe8e.js"><link rel="prefetch" href="/blogs/assets/js/71.50a43118.js"><link rel="prefetch" href="/blogs/assets/js/72.3c0b4a7f.js"><link rel="prefetch" href="/blogs/assets/js/73.74d2bda0.js"><link rel="prefetch" href="/blogs/assets/js/74.f1003cb4.js"><link rel="prefetch" href="/blogs/assets/js/75.c1f4c98b.js"><link rel="prefetch" href="/blogs/assets/js/76.4dc3f570.js"><link rel="prefetch" href="/blogs/assets/js/77.5f8de3e2.js"><link rel="prefetch" href="/blogs/assets/js/78.3417b478.js"><link rel="prefetch" href="/blogs/assets/js/79.92ee8e13.js"><link rel="prefetch" href="/blogs/assets/js/8.2ea5d4ca.js"><link rel="prefetch" href="/blogs/assets/js/80.d54c6762.js"><link rel="prefetch" href="/blogs/assets/js/9.df6f0129.js">
    <link rel="stylesheet" href="/blogs/assets/css/0.styles.2b370ae1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blogs/" class="home-link router-link-active"><img src="./public/head.png" alt="静" class="logo"> <span class="site-name can-hide">静</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blogs/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="js" class="dropdown-title"><span class="title">js</span> <span class="arrow down"></span></button> <button type="button" aria-label="js" class="mobile-dropdown-title"><span class="title">js</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/js/js/" class="nav-link">
  js杂记
</a></li><li class="dropdown-item"><!----> <a href="/blogs/js/promise/" class="nav-link">
  Promise规范和应用
</a></li><li class="dropdown-item"><!----> <a href="/blogs/js/browser/" class="nav-link">
  浏览器对象详解
</a></li><li class="dropdown-item"><!----> <a href="/blogs/js/js_oop/" class="nav-link">
  面向对象编程
</a></li><li class="dropdown-item"><!----> <a href="/blogs/js/es6/" class="nav-link">
  ES6及ESNext规范详解
</a></li><li class="dropdown-item"><!----> <a href="/blogs/js/this/" class="nav-link">
  this指向、作用域、闭包
</a></li><li class="dropdown-item"><!----> <a href="/blogs/js/git/" class="nav-link">
  git使用
</a></li><li class="dropdown-item"><!----> <a href="/blogs/ts/typeScript/" class="nav-link">
  ts初探
</a></li><li class="dropdown-item"><!----> <a href="/blogs/ts/tsBasic/" class="nav-link">
  ts基础
</a></li><li class="dropdown-item"><!----> <a href="/blogs/ts/tsProject/" class="nav-link">
  ts工程
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工程化" class="dropdown-title"><span class="title">工程化</span> <span class="arrow down"></span></button> <button type="button" aria-label="工程化" class="mobile-dropdown-title"><span class="title">工程化</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/js/js_module/" class="nav-link">
  模块化规范
</a></li><li class="dropdown-item"><!----> <a href="/blogs/js/js_project/" class="nav-link">
  前端工程化详解
</a></li><li class="dropdown-item"><!----> <a href="/blogs/project/webpack/" class="nav-link">
  webpack
</a></li><li class="dropdown-item"><!----> <a href="/blogs/project/babel/" class="nav-link">
  babel
</a></li><li class="dropdown-item"><!----> <a href="/blogs/tools/autotest/" class="nav-link">
  自动化测试和部署
</a></li><li class="dropdown-item"><!----> <a href="/blogs/tools/ast/" class="nav-link">
  AST解析
</a></li><li class="dropdown-item"><!----> <a href="/blogs/tools/solution/" class="nav-link">
  前端方案
</a></li><li class="dropdown-item"><!----> <a href="/blogs/tools/js_tools/" class="nav-link">
  常用工具
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="vue" class="dropdown-title"><span class="title">vue</span> <span class="arrow down"></span></button> <button type="button" aria-label="vue" class="mobile-dropdown-title"><span class="title">vue</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/vue/vue-basic/" class="nav-link">
  vue2.0基础
</a></li><li class="dropdown-item"><!----> <a href="/blogs/vue/vue-advance/" class="nav-link">
  vue2.0进阶
</a></li><li class="dropdown-item"><!----> <a href="/blogs/vue/vue-cli/" class="nav-link">
  vue-cli详解
</a></li><li class="dropdown-item"><!----> <a href="/blogs/vue/vue-loader/" class="nav-link">
  vue-loader
</a></li><li class="dropdown-item"><!----> <a href="/blogs/vue/vue-router/" class="nav-link">
  vue-router
</a></li><li class="dropdown-item"><!----> <a href="/blogs/vue/vuex/" class="nav-link">
  vuex
</a></li><li class="dropdown-item"><!----> <a href="/blogs/vue/vue-ssr/" class="nav-link">
  vue-ssr
</a></li><li class="dropdown-item"><!----> <a href="/blogs/vue/vue-i18n/" class="nav-link">
  vue-i18n
</a></li><li class="dropdown-item"><!----> <a href="/blogs/vue/vue-life/" class="nav-link">
  vue生命周期
</a></li><li class="dropdown-item"><!----> <a href="/blogs/vue/vue-reactive/" class="nav-link">
  响应式原理
</a></li><li class="dropdown-item"><!----> <a href="/blogs/vue/vue-diff/" class="nav-link">
  diff原理
</a></li><li class="dropdown-item"><!----> <a href="/blogs/vue/vue-compiler/" class="nav-link">
  编译原理
</a></li><li class="dropdown-item"><!----> <a href="/blogs/vue/vue-refs/" class="nav-link">
  vue实战总结
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="react" class="dropdown-title"><span class="title">react</span> <span class="arrow down"></span></button> <button type="button" aria-label="react" class="mobile-dropdown-title"><span class="title">react</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/react/react/" class="nav-link">
  react基础
</a></li><li class="dropdown-item"><!----> <a href="/blogs/react/react-advance/" class="nav-link">
  react进阶
</a></li><li class="dropdown-item"><!----> <a href="/blogs/react/react-router/" class="nav-link">
  react-router
</a></li><li class="dropdown-item"><!----> <a href="/blogs/react/react-state/" class="nav-link">
  react-状态管理
</a></li><li class="dropdown-item"><!----> <a href="/blogs/react/react-ssr/" class="nav-link">
  react同构
</a></li><li class="dropdown-item"><!----> <a href="/blogs/react/react-component/" class="nav-link">
  react组件封装
</a></li><li class="dropdown-item"><!----> <a href="/blogs/react/react-code/" class="nav-link">
  react源码分析
</a></li><li class="dropdown-item"><!----> <a href="/blogs/react/react-question/" class="nav-link">
  react问题整理
</a></li><li class="dropdown-item"><!----> <a href="/blogs/react/react-ts-project/" class="nav-link">
  react-ts实战
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="nodejs" class="dropdown-title"><span class="title">nodejs</span> <span class="arrow down"></span></button> <button type="button" aria-label="nodejs" class="mobile-dropdown-title"><span class="title">nodejs</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/nodejs/basic/" class="nav-link">
  nodejs基础
</a></li><li class="dropdown-item"><!----> <a href="/blogs/nodejs/module/" class="nav-link">
  node常用框架
</a></li><li class="dropdown-item"><!----> <a href="/blogs/nodejs/http/" class="nav-link">
  nodejs网络及部署
</a></li><li class="dropdown-item"><!----> <a href="/blogs/nodejs/express-ts/" class="nav-link">
  express-ts实战
</a></li><li class="dropdown-item"><!----> <a href="/blogs/nodejs/info/" class="nav-link">
  Nodejs前研
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/frontend/interview/" class="nav-link">
  前端面试
</a></li><li class="dropdown-item"><!----> <a href="/blogs/frontend/performance/" class="nav-link">
  前端性能优化
</a></li><li class="dropdown-item"><!----> <a href="/blogs/frontend/explorer/" class="nav-link">
  浏览器进程和线程
</a></li><li class="dropdown-item"><!----> <a href="/blogs/frontend/security-control/" class="nav-link">
  前端网络安全
</a></li><li class="dropdown-item"><!----> <a href="/blogs/frontend/lowcode/" class="nav-link">
  低代码平台
</a></li><li class="dropdown-item"><!----> <a href="/blogs/frontend/micro-frontend/" class="nav-link">
  微前端
</a></li><li class="dropdown-item"><!----> <a href="/blogs/frontend/designMode/" class="nav-link">
  前端设计模式
</a></li><li class="dropdown-item"><!----> <a href="/blogs/frontend/css/" class="nav-link">
  Css
</a></li><li class="dropdown-item"><!----> <a href="/blogs/frontend/mini-program/" class="nav-link">
  小程序
</a></li><li class="dropdown-item"><!----> <a href="/blogs/frontend/hybrid/" class="nav-link">
  Hybrid开发及原理
</a></li><li class="dropdown-item"><!----> <a href="/blogs/frontend/canvas/" class="nav-link">
  canvas
</a></li><li class="dropdown-item"><!----> <a href="/blogs/frontend/graph/" class="nav-link">
  图片格式
</a></li><li class="dropdown-item"><!----> <a href="/blogs/frontend/web3/" class="nav-link">
  web3探索
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="算法" class="dropdown-title"><span class="title">算法</span> <span class="arrow down"></span></button> <button type="button" aria-label="算法" class="mobile-dropdown-title"><span class="title">算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/algorithm/graph/" class="nav-link">
  图的存储和遍历
</a></li><li class="dropdown-item"><!----> <a href="/blogs/algorithm/dpointer/" class="nav-link">
  双指针
</a></li><li class="dropdown-item"><!----> <a href="/blogs/algorithm/levenshtein/" class="nav-link">
  最端编辑距离算法
</a></li><li class="dropdown-item"><!----> <a href="/blogs/algorithm/greed/" class="nav-link">
  贪心算法
</a></li><li class="dropdown-item"><!----> <a href="/blogs/algorithm/dp/" class="nav-link">
  动态规划
</a></li><li class="dropdown-item"><!----> <a href="/blogs/algorithm/leetcode/" class="nav-link">
  leetcode
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title">后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="后端" class="mobile-dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/backend/nginx/" class="nav-link">
  nginx
</a></li><li class="dropdown-item"><!----> <a href="/blogs/backend/springboot/" class="nav-link">
  Springboot
</a></li><li class="dropdown-item"><!----> <a href="/blogs/backend/mybatis/" class="nav-link">
  mybatis
</a></li><li class="dropdown-item"><!----> <a href="/blogs/backend/uml/" class="nav-link">
  uml类图
</a></li><li class="dropdown-item"><!----> <a href="/blogs/backend/ddd/" class="nav-link">
  领域驱动设计
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="友链" class="dropdown-title"><span class="title">友链</span> <span class="arrow down"></span></button> <button type="button" aria-label="友链" class="mobile-dropdown-title"><span class="title">友链</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://lxchuan12.gitee.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  若川博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="http://www.inode.club/interview/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  程序员成长指北-node，面
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blogs/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="js" class="dropdown-title"><span class="title">js</span> <span class="arrow down"></span></button> <button type="button" aria-label="js" class="mobile-dropdown-title"><span class="title">js</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/js/js/" class="nav-link">
  js杂记
</a></li><li class="dropdown-item"><!----> <a href="/blogs/js/promise/" class="nav-link">
  Promise规范和应用
</a></li><li class="dropdown-item"><!----> <a href="/blogs/js/browser/" class="nav-link">
  浏览器对象详解
</a></li><li class="dropdown-item"><!----> <a href="/blogs/js/js_oop/" class="nav-link">
  面向对象编程
</a></li><li class="dropdown-item"><!----> <a href="/blogs/js/es6/" class="nav-link">
  ES6及ESNext规范详解
</a></li><li class="dropdown-item"><!----> <a href="/blogs/js/this/" class="nav-link">
  this指向、作用域、闭包
</a></li><li class="dropdown-item"><!----> <a href="/blogs/js/git/" class="nav-link">
  git使用
</a></li><li class="dropdown-item"><!----> <a href="/blogs/ts/typeScript/" class="nav-link">
  ts初探
</a></li><li class="dropdown-item"><!----> <a href="/blogs/ts/tsBasic/" class="nav-link">
  ts基础
</a></li><li class="dropdown-item"><!----> <a href="/blogs/ts/tsProject/" class="nav-link">
  ts工程
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工程化" class="dropdown-title"><span class="title">工程化</span> <span class="arrow down"></span></button> <button type="button" aria-label="工程化" class="mobile-dropdown-title"><span class="title">工程化</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/js/js_module/" class="nav-link">
  模块化规范
</a></li><li class="dropdown-item"><!----> <a href="/blogs/js/js_project/" class="nav-link">
  前端工程化详解
</a></li><li class="dropdown-item"><!----> <a href="/blogs/project/webpack/" class="nav-link">
  webpack
</a></li><li class="dropdown-item"><!----> <a href="/blogs/project/babel/" class="nav-link">
  babel
</a></li><li class="dropdown-item"><!----> <a href="/blogs/tools/autotest/" class="nav-link">
  自动化测试和部署
</a></li><li class="dropdown-item"><!----> <a href="/blogs/tools/ast/" class="nav-link">
  AST解析
</a></li><li class="dropdown-item"><!----> <a href="/blogs/tools/solution/" class="nav-link">
  前端方案
</a></li><li class="dropdown-item"><!----> <a href="/blogs/tools/js_tools/" class="nav-link">
  常用工具
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="vue" class="dropdown-title"><span class="title">vue</span> <span class="arrow down"></span></button> <button type="button" aria-label="vue" class="mobile-dropdown-title"><span class="title">vue</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/vue/vue-basic/" class="nav-link">
  vue2.0基础
</a></li><li class="dropdown-item"><!----> <a href="/blogs/vue/vue-advance/" class="nav-link">
  vue2.0进阶
</a></li><li class="dropdown-item"><!----> <a href="/blogs/vue/vue-cli/" class="nav-link">
  vue-cli详解
</a></li><li class="dropdown-item"><!----> <a href="/blogs/vue/vue-loader/" class="nav-link">
  vue-loader
</a></li><li class="dropdown-item"><!----> <a href="/blogs/vue/vue-router/" class="nav-link">
  vue-router
</a></li><li class="dropdown-item"><!----> <a href="/blogs/vue/vuex/" class="nav-link">
  vuex
</a></li><li class="dropdown-item"><!----> <a href="/blogs/vue/vue-ssr/" class="nav-link">
  vue-ssr
</a></li><li class="dropdown-item"><!----> <a href="/blogs/vue/vue-i18n/" class="nav-link">
  vue-i18n
</a></li><li class="dropdown-item"><!----> <a href="/blogs/vue/vue-life/" class="nav-link">
  vue生命周期
</a></li><li class="dropdown-item"><!----> <a href="/blogs/vue/vue-reactive/" class="nav-link">
  响应式原理
</a></li><li class="dropdown-item"><!----> <a href="/blogs/vue/vue-diff/" class="nav-link">
  diff原理
</a></li><li class="dropdown-item"><!----> <a href="/blogs/vue/vue-compiler/" class="nav-link">
  编译原理
</a></li><li class="dropdown-item"><!----> <a href="/blogs/vue/vue-refs/" class="nav-link">
  vue实战总结
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="react" class="dropdown-title"><span class="title">react</span> <span class="arrow down"></span></button> <button type="button" aria-label="react" class="mobile-dropdown-title"><span class="title">react</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/react/react/" class="nav-link">
  react基础
</a></li><li class="dropdown-item"><!----> <a href="/blogs/react/react-advance/" class="nav-link">
  react进阶
</a></li><li class="dropdown-item"><!----> <a href="/blogs/react/react-router/" class="nav-link">
  react-router
</a></li><li class="dropdown-item"><!----> <a href="/blogs/react/react-state/" class="nav-link">
  react-状态管理
</a></li><li class="dropdown-item"><!----> <a href="/blogs/react/react-ssr/" class="nav-link">
  react同构
</a></li><li class="dropdown-item"><!----> <a href="/blogs/react/react-component/" class="nav-link">
  react组件封装
</a></li><li class="dropdown-item"><!----> <a href="/blogs/react/react-code/" class="nav-link">
  react源码分析
</a></li><li class="dropdown-item"><!----> <a href="/blogs/react/react-question/" class="nav-link">
  react问题整理
</a></li><li class="dropdown-item"><!----> <a href="/blogs/react/react-ts-project/" class="nav-link">
  react-ts实战
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="nodejs" class="dropdown-title"><span class="title">nodejs</span> <span class="arrow down"></span></button> <button type="button" aria-label="nodejs" class="mobile-dropdown-title"><span class="title">nodejs</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/nodejs/basic/" class="nav-link">
  nodejs基础
</a></li><li class="dropdown-item"><!----> <a href="/blogs/nodejs/module/" class="nav-link">
  node常用框架
</a></li><li class="dropdown-item"><!----> <a href="/blogs/nodejs/http/" class="nav-link">
  nodejs网络及部署
</a></li><li class="dropdown-item"><!----> <a href="/blogs/nodejs/express-ts/" class="nav-link">
  express-ts实战
</a></li><li class="dropdown-item"><!----> <a href="/blogs/nodejs/info/" class="nav-link">
  Nodejs前研
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/frontend/interview/" class="nav-link">
  前端面试
</a></li><li class="dropdown-item"><!----> <a href="/blogs/frontend/performance/" class="nav-link">
  前端性能优化
</a></li><li class="dropdown-item"><!----> <a href="/blogs/frontend/explorer/" class="nav-link">
  浏览器进程和线程
</a></li><li class="dropdown-item"><!----> <a href="/blogs/frontend/security-control/" class="nav-link">
  前端网络安全
</a></li><li class="dropdown-item"><!----> <a href="/blogs/frontend/lowcode/" class="nav-link">
  低代码平台
</a></li><li class="dropdown-item"><!----> <a href="/blogs/frontend/micro-frontend/" class="nav-link">
  微前端
</a></li><li class="dropdown-item"><!----> <a href="/blogs/frontend/designMode/" class="nav-link">
  前端设计模式
</a></li><li class="dropdown-item"><!----> <a href="/blogs/frontend/css/" class="nav-link">
  Css
</a></li><li class="dropdown-item"><!----> <a href="/blogs/frontend/mini-program/" class="nav-link">
  小程序
</a></li><li class="dropdown-item"><!----> <a href="/blogs/frontend/hybrid/" class="nav-link">
  Hybrid开发及原理
</a></li><li class="dropdown-item"><!----> <a href="/blogs/frontend/canvas/" class="nav-link">
  canvas
</a></li><li class="dropdown-item"><!----> <a href="/blogs/frontend/graph/" class="nav-link">
  图片格式
</a></li><li class="dropdown-item"><!----> <a href="/blogs/frontend/web3/" class="nav-link">
  web3探索
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="算法" class="dropdown-title"><span class="title">算法</span> <span class="arrow down"></span></button> <button type="button" aria-label="算法" class="mobile-dropdown-title"><span class="title">算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/algorithm/graph/" class="nav-link">
  图的存储和遍历
</a></li><li class="dropdown-item"><!----> <a href="/blogs/algorithm/dpointer/" class="nav-link">
  双指针
</a></li><li class="dropdown-item"><!----> <a href="/blogs/algorithm/levenshtein/" class="nav-link">
  最端编辑距离算法
</a></li><li class="dropdown-item"><!----> <a href="/blogs/algorithm/greed/" class="nav-link">
  贪心算法
</a></li><li class="dropdown-item"><!----> <a href="/blogs/algorithm/dp/" class="nav-link">
  动态规划
</a></li><li class="dropdown-item"><!----> <a href="/blogs/algorithm/leetcode/" class="nav-link">
  leetcode
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title">后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="后端" class="mobile-dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/backend/nginx/" class="nav-link">
  nginx
</a></li><li class="dropdown-item"><!----> <a href="/blogs/backend/springboot/" class="nav-link">
  Springboot
</a></li><li class="dropdown-item"><!----> <a href="/blogs/backend/mybatis/" class="nav-link">
  mybatis
</a></li><li class="dropdown-item"><!----> <a href="/blogs/backend/uml/" class="nav-link">
  uml类图
</a></li><li class="dropdown-item"><!----> <a href="/blogs/backend/ddd/" class="nav-link">
  领域驱动设计
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="友链" class="dropdown-title"><span class="title">友链</span> <span class="arrow down"></span></button> <button type="button" aria-label="友链" class="mobile-dropdown-title"><span class="title">友链</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://lxchuan12.gitee.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  若川博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="http://www.inode.club/interview/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  程序员成长指北-node，面
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>TypeScript</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blogs/ts/typeScript.html" class="sidebar-link">TypeScript</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>TypeScript基础</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blogs/ts/tsBasic.html" aria-current="page" class="active sidebar-link">TypeScript基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blogs/ts/tsBasic.html#_1、简介" class="sidebar-link">1、简介</a></li><li class="sidebar-sub-header"><a href="/blogs/ts/tsBasic.html#_2、类型基础" class="sidebar-link">2、类型基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blogs/ts/tsBasic.html#_1、强类型和弱类型" class="sidebar-link">1、强类型和弱类型</a></li><li class="sidebar-sub-header"><a href="/blogs/ts/tsBasic.html#_2、静态类型和动态类型" class="sidebar-link">2、静态类型和动态类型</a></li></ul></li><li class="sidebar-sub-header"><a href="/blogs/ts/tsBasic.html#_3、基础类型" class="sidebar-link">3、基础类型</a></li><li class="sidebar-sub-header"><a href="/blogs/ts/tsBasic.html#_4、枚举类型" class="sidebar-link">4、枚举类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blogs/ts/tsBasic.html#_1、枚举类型" class="sidebar-link">1、枚举类型</a></li><li class="sidebar-sub-header"><a href="/blogs/ts/tsBasic.html#_2、枚举成员" class="sidebar-link">2、枚举成员</a></li><li class="sidebar-sub-header"><a href="/blogs/ts/tsBasic.html#_3、常量枚举" class="sidebar-link">3、常量枚举</a></li><li class="sidebar-sub-header"><a href="/blogs/ts/tsBasic.html#_4、枚举-枚举成员作为类型" class="sidebar-link">4、枚举/枚举成员作为类型</a></li><li class="sidebar-sub-header"><a href="/blogs/ts/tsBasic.html#_5、实战" class="sidebar-link">5、实战</a></li></ul></li><li class="sidebar-sub-header"><a href="/blogs/ts/tsBasic.html#_5、接口" class="sidebar-link">5、接口</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blogs/ts/tsBasic.html#_1、对象类型接口" class="sidebar-link">1、对象类型接口</a></li><li class="sidebar-sub-header"><a href="/blogs/ts/tsBasic.html#_2、可索引类型接口" class="sidebar-link">2、可索引类型接口</a></li><li class="sidebar-sub-header"><a href="/blogs/ts/tsBasic.html#_3、函数类与混合类型接口" class="sidebar-link">3、函数类与混合类型接口</a></li><li class="sidebar-sub-header"><a href="/blogs/ts/tsBasic.html#_1、接口" class="sidebar-link">1、接口</a></li><li class="sidebar-sub-header"><a href="/blogs/ts/tsBasic.html#_4、接口和类的关系" class="sidebar-link">4、接口和类的关系</a></li></ul></li><li class="sidebar-sub-header"><a href="/blogs/ts/tsBasic.html#_6、函数" class="sidebar-link">6、函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blogs/ts/tsBasic.html#_1、定义" class="sidebar-link">1、定义</a></li><li class="sidebar-sub-header"><a href="/blogs/ts/tsBasic.html#_2、参数" class="sidebar-link">2、参数</a></li><li class="sidebar-sub-header"><a href="/blogs/ts/tsBasic.html#_3、重载" class="sidebar-link">3、重载</a></li></ul></li><li class="sidebar-sub-header"><a href="/blogs/ts/tsBasic.html#_7、类" class="sidebar-link">7、类</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blogs/ts/tsBasic.html#_1、基本实现" class="sidebar-link">1、基本实现</a></li><li class="sidebar-sub-header"><a href="/blogs/ts/tsBasic.html#_2、继承" class="sidebar-link">2、继承</a></li><li class="sidebar-sub-header"><a href="/blogs/ts/tsBasic.html#_3、修饰符" class="sidebar-link">3、修饰符</a></li><li class="sidebar-sub-header"><a href="/blogs/ts/tsBasic.html#_4、抽象类" class="sidebar-link">4、抽象类</a></li><li class="sidebar-sub-header"><a href="/blogs/ts/tsBasic.html#_5、this-类型" class="sidebar-link">5、this 类型</a></li></ul></li><li class="sidebar-sub-header"><a href="/blogs/ts/tsBasic.html#_8、泛型" class="sidebar-link">8、泛型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blogs/ts/tsBasic.html#_1、支持多种类型的方法" class="sidebar-link">1、支持多种类型的方法</a></li><li class="sidebar-sub-header"><a href="/blogs/ts/tsBasic.html#_2、泛型函数" class="sidebar-link">2、泛型函数</a></li><li class="sidebar-sub-header"><a href="/blogs/ts/tsBasic.html#_3、泛型接口" class="sidebar-link">3、泛型接口</a></li><li class="sidebar-sub-header"><a href="/blogs/ts/tsBasic.html#_4、泛型类" class="sidebar-link">4、泛型类</a></li><li class="sidebar-sub-header"><a href="/blogs/ts/tsBasic.html#_5、泛型约束" class="sidebar-link">5、泛型约束</a></li></ul></li><li class="sidebar-sub-header"><a href="/blogs/ts/tsBasic.html#_9、类型检查机制" class="sidebar-link">9、类型检查机制</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blogs/ts/tsBasic.html#_1、类型推断" class="sidebar-link">1、类型推断</a></li><li class="sidebar-sub-header"><a href="/blogs/ts/tsBasic.html#_2、类型断言" class="sidebar-link">2、类型断言</a></li><li class="sidebar-sub-header"><a href="/blogs/ts/tsBasic.html#_3、类型兼容性" class="sidebar-link">3、类型兼容性</a></li><li class="sidebar-sub-header"><a href="/blogs/ts/tsBasic.html#_4、类型保护" class="sidebar-link">4、类型保护</a></li></ul></li><li class="sidebar-sub-header"><a href="/blogs/ts/tsBasic.html#_10、高级类型" class="sidebar-link">10、高级类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blogs/ts/tsBasic.html#_1、交叉类型、联合类型" class="sidebar-link">1、交叉类型、联合类型</a></li><li class="sidebar-sub-header"><a href="/blogs/ts/tsBasic.html#_2、索引类型" class="sidebar-link">2、索引类型</a></li><li class="sidebar-sub-header"><a href="/blogs/ts/tsBasic.html#_3、映射类型" class="sidebar-link">3、映射类型</a></li><li class="sidebar-sub-header"><a href="/blogs/ts/tsBasic.html#_4、条件类型" class="sidebar-link">4、条件类型</a></li></ul></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>TypeScript工程</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blogs/ts/tsProject.html" class="sidebar-link">TypeScript工程</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="typescript-基础"><a href="#typescript-基础" class="header-anchor">#</a> TypeScript 基础</h1> <p>参考资料</p> <ul><li>1.<a href="https://www.tslang.cn/docs/home.html" target="_blank" rel="noopener noreferrer">ts 官方文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="_1、简介"><a href="#_1、简介" class="header-anchor">#</a> 1、简介</h2> <p>javaScript 是一门动态的弱类型语言，对变量的类型非常宽容，而且不会在这些变量和它们的调用者之间建立结构化的契约。在 ES 标准推出静态类型检查之前，ts 是当下解决此问题的最佳方案。<br>
相关库：flow（faceBook，相关产品 yarn，jest）、TypeScript（微软产品，发展较好）<br>
TypeScript 是拥有类型系统的 javascript 的超集，可编译为纯 javascript，相关特点：</p> <ul><li>类型检查</li> <li>语言扩展：装饰器、接口等</li> <li>工具属性：可编译为标准 js
使用 TypeScript 的其他好处：</li> <li>接口定义代替文档</li> <li>IDE 能够提高开发效率，降低维护成本：vscode 有相关补全插件</li> <li>重塑“类型思维”</li></ul> <h2 id="_2、类型基础"><a href="#_2、类型基础" class="header-anchor">#</a> 2、类型基础</h2> <h3 id="_1、强类型和弱类型"><a href="#_1、强类型和弱类型" class="header-anchor">#</a> 1、强类型和弱类型</h3> <ul><li>强类型语言不允许改变变量的数据类型，除非进行强制类型转换</li> <li>弱类型语言中，变量可以被赋予不同的数据类型</li></ul> <h3 id="_2、静态类型和动态类型"><a href="#_2、静态类型和动态类型" class="header-anchor">#</a> 2、静态类型和动态类型</h3> <ul><li>静态类型语言：在编译阶段确定所有变量的类型</li> <li>动态类型语言：在执行阶段确定所有变量的类型</li></ul> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>TIP</p> <p>javascript 和 c++的执行比较</p> <p>javascript
在程序运行时，动态计算属性偏移量
需要额外的空间存储属性名
所有对象的偏移量信息各寸一份
c++
编译阶段确定属性偏移量
用偏移量访问代替属性名访问
偏移量信息共享</p></div> <h2 id="_3、基础类型"><a href="#_3、基础类型" class="header-anchor">#</a> 3、基础类型</h2> <p>ES6 的数据类型</p> <ul><li>6 种简单类型：Boolean、Number、String、undefined、null、Symbol</li> <li>引用数据类型：Object（Array、Function）</li></ul> <p>TypeScript 的数据类型：</p> <ul><li>6 种简单类型：Boolean、Number、String、undefined、null、Symbol</li> <li>引用数据类型：Object（Array、Function）</li> <li>新增：void、any、never、元组、枚举、高级类型
类型注解：相当于类型声明，语法：(变量/函数) : type</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//原始类型</span>
<span class="token keyword">let</span> <span class="token literal-property property">bool</span><span class="token operator">:</span> boolean <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token literal-property property">num</span><span class="token operator">:</span> number <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token literal-property property">str</span><span class="token operator">:</span> string <span class="token operator">=</span> <span class="token string">&quot;abc&quot;</span><span class="token punctuation">;</span>

<span class="token comment">//数组类型：两种方式type[]\Array&lt;type&gt;</span>
<span class="token comment">//Array为ts预定的泛型接口</span>
<span class="token comment">//联合类型：|</span>
<span class="token keyword">let</span> <span class="token literal-property property">arr1</span><span class="token operator">:</span> number<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token literal-property property">arr2</span><span class="token operator">:</span> Array<span class="token operator">&lt;</span>number<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token literal-property property">arr3</span><span class="token operator">:</span> Array<span class="token operator">&lt;</span>number <span class="token operator">|</span> string<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&quot;4&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">//元组：限定元素个数与类型的数组</span>
<span class="token comment">//修改元素类型，以及超过数量都报错</span>
<span class="token comment">//越界问题：可通过push添加元素，但无法访问</span>
<span class="token comment">//eg：tuple.push(2) 不报错 tuple[2]报错</span>
<span class="token keyword">let</span> <span class="token literal-property property">tuple</span><span class="token operator">:</span> <span class="token punctuation">[</span>number<span class="token punctuation">,</span> string<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">//函数</span>
<span class="token keyword">let</span> <span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">x</span><span class="token operator">:</span> number<span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>
<span class="token comment">//函数类型，无实现</span>
<span class="token keyword">let</span> <span class="token function-variable function">compute</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">x</span><span class="token operator">:</span> number<span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> number<span class="token punctuation">;</span>
<span class="token function-variable function">compute</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>

<span class="token comment">//对象</span>
<span class="token comment">/* 
let obj: object = {x: 1, y: 2}
obj.x = 3 报错
*/</span>
<span class="token keyword">let</span> <span class="token literal-property property">obj</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">x</span><span class="token operator">:</span> number<span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> number <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
obj<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>

<span class="token comment">//symbol：独一无二的值</span>
<span class="token keyword">let</span> <span class="token literal-property property">s1</span><span class="token operator">:</span> symbol <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> s2 <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s1 <span class="token operator">===</span> s2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//false</span>

<span class="token comment">//undefined未定义, null没有值</span>
<span class="token comment">//un和nu只能赋值为自己，不能赋值为其他类型</span>
<span class="token comment">//官方文档，undefined和null、never为任何类型的子类型</span>
<span class="token comment">//其他类型可以赋值为null或undefined，需开启ts配置：&quot;strictNullChecks&quot;: false</span>
<span class="token comment">//num = null 或 num = undefined</span>
<span class="token comment">//或使用联合类型：let num: number | undefined | null = 3</span>
<span class="token keyword">let</span> <span class="token literal-property property">un</span><span class="token operator">:</span> <span class="token keyword">undefined</span> <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token literal-property property">nu</span><span class="token operator">:</span> <span class="token keyword">null</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

<span class="token comment">//js中void为操作符，让任何变量返回undefined</span>
<span class="token comment">//eg：获取安全的undefined，void 0</span>
<span class="token comment">//ts中void为没有任何返回值的类型</span>
<span class="token keyword">let</span> <span class="token function-variable function">noReturn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//any: 任意类型</span>
<span class="token keyword">let</span> x<span class="token punctuation">;</span>

<span class="token comment">//never：永远没有返回值的类型，报错或者死循环</span>
<span class="token keyword">let</span> <span class="token function-variable function">error</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token function-variable function">endless</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_4、枚举类型"><a href="#_4、枚举类型" class="header-anchor">#</a> 4、枚举类型</h2> <p>枚举：一组有名字的常量集合 <br>
使用场景及思维模式：将程序不容易记忆的硬编码或未来可变的常量提取出来，定义为枚举类型，提高程序可读性和可维护性</p> <h3 id="_1、枚举类型"><a href="#_1、枚举类型" class="header-anchor">#</a> 1、枚举类型</h3> <ul><li>数字枚举：枚举成员默认从 0 递增，实现为反向映射</li> <li>字符串枚举：不支持反向映射</li> <li>异构枚举：数字和字符串混合，不推荐使用</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//数字枚举：枚举成员默认从0递增</span>
<span class="token keyword">enum</span> Role <span class="token punctuation">{</span>
    Reporter<span class="token punctuation">,</span>
    Developer<span class="token punctuation">,</span>
    Maintainer<span class="token punctuation">,</span>
    Owner<span class="token punctuation">,</span>
    Guest
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Role<span class="token punctuation">.</span>Reporter<span class="token punctuation">)</span> <span class="token comment">//0</span>

<span class="token comment">//可定义初始值</span>
<span class="token keyword">enum</span> Role1 <span class="token punctuation">{</span>
    Reporter<span class="token punctuation">,</span>
    Developer<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span>
    Maintainer<span class="token punctuation">,</span>
    Owner<span class="token punctuation">,</span>
    Guest
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Role1<span class="token punctuation">.</span>Reporter<span class="token punctuation">)</span>   <span class="token comment">//0</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Role1<span class="token punctuation">.</span>Developer<span class="token punctuation">)</span>  <span class="token comment">//2</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Role1<span class="token punctuation">.</span>Maintainer<span class="token punctuation">)</span> <span class="token comment">//3</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Role<span class="token punctuation">)</span> <span class="token comment">//对象</span>
<span class="token comment">/*
{
    0: &quot;Reporter&quot;
    1: &quot;Developer&quot;
    2: &quot;Maintainer&quot;
    3: &quot;Owner&quot;
    4: &quot;Guest&quot;
    Developer: 1
    Guest: 4
    Maintainer: 2
    Owner: 3
    Reporter: 0
}
*/</span>

<span class="token comment">//实现原理：反向映射</span>
<span class="token comment">/*
var Role;
(function (Role) {
    Role[Role[&quot;Reporter&quot;] = 0] = &quot;Reporter&quot;;
    Role[Role[&quot;Developer&quot;] = 1] = &quot;Developer&quot;;
    Role[Role[&quot;Maintainer&quot;] = 2] = &quot;Maintainer&quot;;
    Role[Role[&quot;Owner&quot;] = 3] = &quot;Owner&quot;;
    Role[Role[&quot;Guest&quot;] = 4] = &quot;Guest&quot;;
})(Role || (Role = {}));
*/</span>

<span class="token comment">//字符串枚举，不支持反向映射</span>
<span class="token keyword">enum</span> Message<span class="token punctuation">{</span>
    Success <span class="token operator">=</span> <span class="token string">'succeed'</span><span class="token punctuation">,</span>
    Fail <span class="token operator">=</span> <span class="token string">'fail'</span>
<span class="token punctuation">}</span>
<span class="token comment">/*
var Message;
(function (Message) {
    Message[&quot;Success&quot;] = &quot;succeed&quot;;
    Message[&quot;Fail&quot;] = &quot;fail&quot;;
})(Message || (Message = {}));
*/</span>

<span class="token comment">//异构枚举：数字和字符串混合，不推荐使用</span>
<span class="token keyword">enum</span> Answer <span class="token punctuation">{</span>
    <span class="token constant">N</span><span class="token punctuation">,</span>
    <span class="token constant">Y</span> <span class="token operator">=</span> <span class="token string">'Yes'</span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id="_2、枚举成员"><a href="#_2、枚举成员" class="header-anchor">#</a> 2、枚举成员</h3> <ul><li><p>只读属性，不可修改</p></li> <li><p>成员类型</p> <ul><li><p>const member：在编译阶段被计算出结果，分为 3 种:无初始值,对常量成员的引用,常量表达式</p></li> <li><p>computed member：表达式保留到程序的执行阶段：非常量表达式，注意：在 computed 成员后定义成员需赋值，否则报错</p></li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//枚举成员</span>
<span class="token comment">//成员不可变：Char.a = 4报错</span>
<span class="token keyword">enum</span> Char <span class="token punctuation">{</span>
    <span class="token comment">//const member：在编译阶段被计算出结果</span>
    a<span class="token punctuation">,</span>          <span class="token comment">//无初始值</span>
    b <span class="token operator">=</span> Char<span class="token punctuation">.</span>a<span class="token punctuation">,</span> <span class="token comment">//对常量成员的引用</span>
    c <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token comment">//常量表达式</span>
    <span class="token comment">//computed member：表达式保留到程序的执行阶段</span>
    d <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//非常量表达式</span>
    e <span class="token operator">=</span> <span class="token string">'123'</span><span class="token punctuation">.</span>length<span class="token punctuation">,</span>
    <span class="token comment">//在computed成员后定义成员需赋值，否则报错</span>
    f <span class="token operator">=</span> <span class="token number">2</span>
<span class="token punctuation">}</span>

<span class="token comment">/*
var Char;
(function (Char) {
    //常量已计算
    Char[Char[&quot;a&quot;] = 0] = &quot;a&quot;;
    Char[Char[&quot;b&quot;] = 0] = &quot;b&quot;;
    Char[Char[&quot;c&quot;] = 4] = &quot;c&quot;;
    //computed保留到执行
    Char[Char[&quot;d&quot;] = Math.random()] = &quot;d&quot;;
    Char[Char[&quot;e&quot;] = '123'.length] = &quot;e&quot;;
})(Char || (Char = {}));
*/</span>

</code></pre></div><h3 id="_3、常量枚举"><a href="#_3、常量枚举" class="header-anchor">#</a> 3、常量枚举</h3> <ul><li>用 const 申明，成员只能为 const member</li> <li>在编译后会被移除</li> <li>使用场景：不需要使用对象，需要使用对象的值</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token keyword">enum</span> Month <span class="token punctuation">{</span>
    Jan<span class="token punctuation">,</span>
    Feb<span class="token punctuation">,</span>
    Mar
<span class="token punctuation">}</span>
<span class="token keyword">let</span> month <span class="token operator">=</span> <span class="token punctuation">[</span>Month<span class="token punctuation">.</span>Jan<span class="token punctuation">,</span> Month<span class="token punctuation">.</span>Feb<span class="token punctuation">,</span> Month<span class="token punctuation">.</span>Mar<span class="token punctuation">]</span>
<span class="token comment">//var month = [0 /* Jan */, 1 /* Feb */, 2 /* Mar */];</span>
</code></pre></div><h3 id="_4、枚举-枚举成员作为类型"><a href="#_4、枚举-枚举成员作为类型" class="header-anchor">#</a> 4、枚举/枚举成员作为类型</h3> <ul><li>无初始值</li> <li>初始值均为数字</li> <li>初始值均为字符</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//枚举类型和枚举成员类型：无初始值、枚举成员均为数字、枚举成员均为字符串</span>
<span class="token comment">//不同枚举类型不可以比较，相同类似枚举可比较 e === f</span>
<span class="token comment">//数字枚举类型可赋值为任意数字</span>
<span class="token comment">//字符串枚举类型只能赋值为枚举值</span>
<span class="token keyword">enum</span> <span class="token constant">E</span> <span class="token punctuation">{</span> a<span class="token punctuation">,</span> b <span class="token punctuation">}</span>
<span class="token keyword">enum</span> <span class="token constant">F</span> <span class="token punctuation">{</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">}</span>
<span class="token keyword">enum</span> <span class="token constant">G</span> <span class="token punctuation">{</span> a <span class="token operator">=</span> <span class="token string">'apple'</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token string">'banana'</span><span class="token punctuation">}</span>

<span class="token keyword">let</span> <span class="token literal-property property">e</span><span class="token operator">:</span> <span class="token constant">E</span> <span class="token operator">=</span> <span class="token number">3</span>
<span class="token keyword">let</span> <span class="token literal-property property">f</span><span class="token operator">:</span> <span class="token constant">F</span> <span class="token operator">=</span> <span class="token number">3</span>

<span class="token keyword">let</span> <span class="token literal-property property">e1</span><span class="token operator">:</span> <span class="token constant">E</span><span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">1</span>
<span class="token keyword">let</span> <span class="token literal-property property">e2</span><span class="token operator">:</span> <span class="token constant">E</span><span class="token punctuation">.</span>b
<span class="token keyword">let</span> <span class="token literal-property property">e3</span><span class="token operator">:</span> <span class="token constant">E</span><span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">1</span>
e1 <span class="token operator">===</span> e3

<span class="token keyword">let</span> <span class="token literal-property property">g1</span><span class="token operator">:</span> <span class="token constant">G</span> <span class="token operator">=</span> <span class="token constant">G</span><span class="token punctuation">.</span>b
<span class="token keyword">let</span> <span class="token literal-property property">g2</span><span class="token operator">:</span> <span class="token constant">G</span><span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token constant">G</span><span class="token punctuation">.</span>a
</code></pre></div><h3 id="_5、实战"><a href="#_5、实战" class="header-anchor">#</a> 5、实战</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/*
改造前问题：
1. 可读性差：很难记住数字的含义
2. 可维护性差：硬编码，牵一发动全身
*/</span>
<span class="token keyword">function</span> <span class="token function">initByRole</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">role</span><span class="token operator">:</span> number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>role <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">||</span> role <span class="token operator">===</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//do sth</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>role <span class="token operator">===</span> <span class="token number">3</span> <span class="token operator">||</span> role <span class="token operator">===</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//do sth</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>role <span class="token operator">===</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//do sth</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">//do sth</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//改造后，使用枚举常量</span>
<span class="token keyword">const</span> <span class="token keyword">enum</span> Roler <span class="token punctuation">{</span>
    Reporter <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
    Developer<span class="token punctuation">,</span>
    Maintainer<span class="token punctuation">,</span>
    Owner<span class="token punctuation">,</span>
    Guest
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">initByRole_byEnum</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">role</span><span class="token operator">:</span> number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>role <span class="token operator">===</span> Roler<span class="token punctuation">.</span>Reporter <span class="token operator">||</span> role <span class="token operator">===</span> Roler<span class="token punctuation">.</span>Developer<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//do sth</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>role <span class="token operator">===</span> Roler<span class="token punctuation">.</span>Maintainer <span class="token operator">||</span> role <span class="token operator">===</span> Roler<span class="token punctuation">.</span>Owner<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//do sth</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>role <span class="token operator">===</span> Roler<span class="token punctuation">.</span>Guest<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//do sth</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">//do sth</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_5、接口"><a href="#_5、接口" class="header-anchor">#</a> 5、接口</h2> <p>在 TypeScript 里，接口的作用就是为这些类型命名和为你的代码或第三方代码定义契约。<br>
用途及思维：用接口定义 api 输入和输出</p> <h3 id="_1、对象类型接口"><a href="#_1、对象类型接口" class="header-anchor">#</a> 1、对象类型接口</h3> <ul><li><p>通过 interface 关键字定义接口，检查原则为鸭式辨型法</p></li> <li><p>对象字面量会进行检查，绕过方法有 3 种</p> <ul><li>将对象字面量赋值给变量</li> <li>使用类型断言</li> <li>使用字符串索引签名</li></ul></li> <li><p>对象属性</p> <ul><li>只读属性：不可修改</li> <li>可选属性</li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">interface</span> <span class="token class-name">List</span> <span class="token punctuation">{</span>
    readonly id<span class="token operator">:</span> number<span class="token punctuation">;</span> <span class="token comment">//只读属性</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
    age<span class="token operator">?</span><span class="token operator">:</span> number<span class="token punctuation">;</span> <span class="token comment">//可选属性</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Result</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span> List<span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">result</span><span class="token operator">:</span> Result</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    result<span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">.</span>id<span class="token punctuation">,</span> value<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">/* 对象字面量会进行类型检查
报错，sex处标红
render({
    data: [
        { id: 1, name: 'A', sex: 'male' },
        { id: 2, name: 'B' },
    ]
})*/</span>

<span class="token comment">//绕过对象字面量检查的方法有三种：</span>
<span class="token comment">//检查原则为鸭式辨型法：包含id和name即可，多余不检查</span>
<span class="token comment">//1. 将对象字面量赋值给变量</span>
<span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">'male'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'B'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token function">render</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>

<span class="token comment">//2. 使用类型断言</span>
<span class="token comment">//告知编译器已知类型可跳过类型检查</span>
<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">'male'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'B'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span> <span class="token keyword">as</span> Result<span class="token punctuation">)</span>
<span class="token comment">//不推荐类型断言写法，react中会产生歧义</span>
<span class="token comment">/* render(&lt;Result&gt;{
    data: [
        { id: 1, name: 'A', sex: 'male' },
        { id: 2, name: 'B' },
    ]
})*/</span>

<span class="token comment">//3. 使用字符串索引签名</span>
<span class="token comment">/*
interface List {
    id: number;
    name: string;
    [x: string]: any;
}
render({
    data: [
        { id: 1, name: 'A', sex: 'male' },
        { id: 2, name: 'B' },
    ]
})
*/</span>

</code></pre></div><h3 id="_2、可索引类型接口"><a href="#_2、可索引类型接口" class="header-anchor">#</a> 2、可索引类型接口</h3> <p>当不确定接口中属性个数时，可使用可索引类型接口</p> <ul><li>数字索引：想当于数组[index: number]</li> <li>字符串索引：[x: string]</li> <li>混用时，数字索引签名的返回值必须是字符串索引签名返回值的子类型（由于 js 会进行类型转换，将 number 转换为 string，从而保持类型兼容性）</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//数字索引：想当于数组[index: number]</span>
<span class="token keyword">interface</span> <span class="token class-name">StringArray</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>index<span class="token operator">:</span> number<span class="token punctuation">]</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> <span class="token literal-property property">chars</span><span class="token operator">:</span> StringArray <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;A&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;B&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">//字符串索引</span>
<span class="token keyword">interface</span> <span class="token class-name">Names</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>x<span class="token operator">:</span> string<span class="token punctuation">]</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> <span class="token literal-property property">names</span><span class="token operator">:</span> Names <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Jian&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">&quot;male&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//混用</span>
<span class="token keyword">interface</span> <span class="token class-name">Api</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>index<span class="token operator">:</span> number<span class="token punctuation">]</span><span class="token operator">:</span> any<span class="token punctuation">;</span>
  <span class="token punctuation">[</span>x<span class="token operator">:</span> string<span class="token punctuation">]</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> <span class="token literal-property property">api</span><span class="token operator">:</span> Api <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token number">1</span><span class="token operator">:</span> <span class="token string">&quot;jing&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Jian&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">&quot;male&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_3、函数类与混合类型接口"><a href="#_3、函数类与混合类型接口" class="header-anchor">#</a> 3、函数类与混合类型接口</h3> <div class="language-js extra-class"><pre class="language-js"><code>
</code></pre></div><h3 id="_1、接口"><a href="#_1、接口" class="header-anchor">#</a> 1、接口</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/*
1. 函数类型接口：
interface F {
	(arg: type): type
}
2. 混合类型接口
interface H {
	(arg: type): type;
	prop: type;
	method(arg: type): type;
}
*/</span>

<span class="token comment">//变量定义函数类型</span>
<span class="token keyword">let</span> <span class="token function-variable function">Add</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">x</span><span class="token operator">:</span> number<span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> number

<span class="token comment">//用接口定义函数类型</span>
<span class="token keyword">interface</span> <span class="token class-name">Add</span> <span class="token punctuation">{</span>
    <span class="token punctuation">(</span>x<span class="token operator">:</span> number<span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> number<span class="token punctuation">)</span><span class="token operator">:</span> number
<span class="token punctuation">}</span>

<span class="token comment">//类型别名：为函数起名字</span>
<span class="token comment">//type Add = (x: number, y: number) =&gt; number</span>

<span class="token keyword">let</span> <span class="token literal-property property">add2</span><span class="token operator">:</span> <span class="token function-variable function">Add</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a <span class="token operator">+</span> b

<span class="token comment">//混合类型接口</span>
<span class="token keyword">interface</span> <span class="token class-name">Lib</span> <span class="token punctuation">{</span>
    <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
    <span class="token literal-property property">version</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
    <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">getLib</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> <span class="token literal-property property">lib</span><span class="token operator">:</span> Lib <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'lib'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token keyword">as</span> Lib<span class="token punctuation">;</span>
    lib<span class="token punctuation">.</span>version <span class="token operator">=</span> <span class="token string">'1.0'</span>
    lib<span class="token punctuation">.</span><span class="token function-variable function">doSomething</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Jian'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
    <span class="token keyword">return</span> lib<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//创建实例</span>
<span class="token keyword">let</span> lib1 <span class="token operator">=</span> <span class="token function">getLib</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">lib1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">//lib</span>
lib1<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//Jian</span>
</code></pre></div><h3 id="_4、接口和类的关系"><a href="#_4、接口和类的关系" class="header-anchor">#</a> 4、接口和类的关系</h3> <ul><li><p>类类型接口</p> <ul><li>类必须实现接口中的所有属性</li> <li>接口只能约束类的公有成员，不能约束私有成员、受保护成员、静态成员和构造函数</li></ul></li> <li><p>接口继承接口</p> <ul><li>抽离可重用的接口</li> <li>将多个接口整合成一个接口</li></ul></li> <li><p>接口继承类</p> <ul><li>抽离出类的共有成员、私有成员和受保护成员</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//1、类类型接口</span>
<span class="token comment">//接口只能约束类的公有成员，不能约束私有成员、受保护成员、静态成员和构造函数</span>
<span class="token keyword">interface</span> <span class="token class-name">Human</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
  <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//类必须实现接口中的所有属性</span>
<span class="token keyword">class</span> <span class="token class-name">Asian</span> <span class="token keyword">implements</span> <span class="token class-name">Human</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">name</span><span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
  <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//2、接口继承接口</span>
<span class="token comment">//可抽离可重用的接口</span>
<span class="token comment">//将多个接口整合成一个接口</span>
<span class="token keyword">interface</span> <span class="token class-name">Man</span> <span class="token keyword">extends</span> <span class="token class-name">Human</span> <span class="token punctuation">{</span>
  <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Child</span> <span class="token punctuation">{</span>
  <span class="token function">cry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Boy</span> <span class="token keyword">extends</span> <span class="token class-name">Man</span><span class="token punctuation">,</span> Child <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment">//需实现来自 Man, Child, Human 三个接口属性</span>
<span class="token keyword">let</span> <span class="token literal-property property">boy</span><span class="token operator">:</span> Boy <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">cry</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//3、接口继承类：抽象类，只有类的成员结构没具体实现</span>
<span class="token comment">//抽离出类的共有成员、私有成员和受保护成员</span>
<span class="token keyword">class</span> <span class="token class-name">Auto</span> <span class="token punctuation">{</span>
  state <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//接口中隐藏 state 属性</span>
<span class="token keyword">interface</span> <span class="token class-name">AutoInterface</span> <span class="token keyword">extends</span> <span class="token class-name">Auto</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">C</span> <span class="token keyword">implements</span> <span class="token class-name">AutoInterface</span> <span class="token punctuation">{</span>
  state <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Bus</span> <span class="token keyword">extends</span> <span class="token class-name">Auto</span> <span class="token keyword">implements</span> <span class="token class-name">AutoInterface</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div></li> <li><p>类与接口的关系</p> <ul><li>接口之间可以相互继承</li> <li>类之间可以相互继承</li> <li>接口可以通过类来实现，但只能约束类的公有成员</li> <li>接口可以抽离出类的成员，包括 public、private、protected</li></ul></li></ul> <p><img src="/blogs/assets/img/tsbasic.0a7bf7f8.png" alt=""></p> <h2 id="_6、函数"><a href="#_6、函数" class="header-anchor">#</a> 6、函数</h2> <h3 id="_1、定义"><a href="#_1、定义" class="header-anchor">#</a> 1、定义</h3> <ul><li><p>定义方式</p> <ul><li>function</li> <li>变量定义</li> <li>类型别名</li> <li>接口定义</li></ul></li> <li><p>类型要求</p> <ul><li>参数类型必须申明</li> <li>返回值类型一般无需申明</li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 一、函数定义方式</span>
<span class="token comment">// 1、function</span>
<span class="token keyword">function</span> <span class="token function">add1</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">x</span><span class="token operator">:</span> number<span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 2、函数类型定义：变量定义、类型别名、接口定义</span>
<span class="token comment">// 定义函数类型，无函数体</span>
<span class="token comment">// 类型要求：参数类型必须声明、返回值类型一般无需申明</span>
<span class="token keyword">let</span> <span class="token function-variable function">add2</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">x</span><span class="token operator">:</span> number<span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> number<span class="token punctuation">;</span>
type <span class="token function-variable function">add3</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">x</span><span class="token operator">:</span> number<span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> number<span class="token punctuation">;</span>
<span class="token keyword">interface</span> <span class="token class-name">add4</span> <span class="token punctuation">{</span>
  <span class="token punctuation">(</span>x<span class="token operator">:</span> number<span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> number<span class="token punctuation">)</span><span class="token operator">:</span> number<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_2、参数"><a href="#_2、参数" class="header-anchor">#</a> 2、参数</h3> <ul><li>参数个数：实参和形参必须一一对应</li> <li>可选参数：使用？，必须参数不能位于可选参数后面</li> <li>默认参数：=，调用时:
<ul><li>在必选参数前，默认参数不可省略</li> <li>在必选参数后，默认参数可以省略</li></ul></li> <li>剩余参数: 以数组形式存在</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//二、函数参数</span>
<span class="token comment">//1、参数个数：实参和形参必须一一对应</span>
<span class="token comment">//add1(1) 提示报错</span>

<span class="token comment">//2、可选参数：使用？，必须参数不能位于可选参数后面</span>
<span class="token keyword">function</span> <span class="token function">add5</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">x</span><span class="token operator">:</span> number<span class="token punctuation">,</span> y<span class="token operator">?</span><span class="token operator">:</span> number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> y <span class="token operator">?</span> x <span class="token operator">+</span> y <span class="token operator">:</span> x<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">add5</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//3、默认参数：=，调用时：</span>
<span class="token comment">//在必选参数前，默认参数不可省略</span>
<span class="token comment">//在必选参数后，默认参数可以省略</span>
<span class="token keyword">function</span> <span class="token function">add6</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">x</span><span class="token operator">:</span> number<span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">z</span><span class="token operator">:</span> number<span class="token punctuation">,</span> q <span class="token operator">=</span> <span class="token number">1</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> y <span class="token operator">+</span> z <span class="token operator">+</span> q<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//不传undefined, 3会赋值给y</span>
<span class="token function">add6</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//4、剩余参数: 以数组形式存在</span>
<span class="token keyword">function</span> <span class="token function">add7</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">x</span><span class="token operator">:</span> number<span class="token punctuation">,</span> <span class="token operator">...</span>rest<span class="token operator">:</span> number<span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> rest<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">pre<span class="token punctuation">,</span> cur</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> pre <span class="token operator">+</span> cur<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">add7</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_3、重载"><a href="#_3、重载" class="header-anchor">#</a> 3、重载</h3> <ul><li>静态类型语言：两个函数名称相同，参数个数或类型不同</li> <li>ts：预先定义一组名称相同，类型不同的函数申明，并在一个类型最宽泛的版本中实现</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//三、函数重载</span>
<span class="token comment">//静态类型语言：两个函数名称相同，参数个数或类型不同</span>
<span class="token comment">//ts：预先定义一组名称相同，类型不同的函数申明，并在一个类型最宽泛的版本中实现</span>
<span class="token keyword">function</span> <span class="token function">add8</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>rest<span class="token operator">:</span> number<span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span><span class="token operator">:</span> number<span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">add8</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>rest<span class="token operator">:</span> string<span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">add8</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>rest<span class="token operator">:</span> any<span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span><span class="token operator">:</span> any <span class="token punctuation">{</span>
    <span class="token keyword">let</span> first <span class="token operator">=</span> rest<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> first <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> rest<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> first <span class="token operator">===</span> <span class="token string">'number'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> rest<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">pre<span class="token punctuation">,</span> cur</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> pre <span class="token operator">+</span> cur<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">add8</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
<span class="token function">add8</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="_7、类"><a href="#_7、类" class="header-anchor">#</a> 7、类</h2> <h3 id="_1、基本实现"><a href="#_1、基本实现" class="header-anchor">#</a> 1、基本实现</h3> <ul><li>类中定义的属性都是实例属性，类中定义的属性都是实例属性</li> <li>实例属性必须有初始值，或在构造函数中被赋值或为可选成员</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token punctuation">{</span>
  <span class="token comment">//实例属性必须有初始值，或在构造函数中被赋值或为可选成员</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">name</span><span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
  <span class="token comment">//constructor(){}</span>
  <span class="token comment">//name?: string</span>
  <span class="token comment">//constructor(){}</span>
  <span class="token comment">//name: string = 'dog'</span>
  <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//类中定义的属性都是实例属性</span>
<span class="token comment">//{run: f, constructor: f}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Dog</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//类中定义的属性都是实例属性</span>
<span class="token comment">//{name: &quot;wangwang&quot;}</span>
<span class="token keyword">let</span> dog <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token string">&quot;wangwang&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dog<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_2、继承"><a href="#_2、继承" class="header-anchor">#</a> 2、继承</h3> <p>子类的构造函数中必须包含 super 调用，入参包括父类参数，使用关键字 extends</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Husky</span> <span class="token keyword">extends</span> <span class="token class-name">Dog</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">name</span><span class="token operator">:</span> string<span class="token punctuation">,</span> <span class="token literal-property property">color</span><span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>color <span class="token operator">=</span> color<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token literal-property property">color</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_3、修饰符"><a href="#_3、修饰符" class="header-anchor">#</a> 3、修饰符</h3> <h4 id="_1、类成员修饰符"><a href="#_1、类成员修饰符" class="header-anchor">#</a> 1、类成员修饰符</h4> <ul><li>public：对所有人可见，所有成员默认为 public</li> <li>private
<ul><li>只能在被定义类中访问，不能通过实例或子类访问</li> <li>private constructor：不能被实例化，不能被继承，常用在单例模式</li></ul></li> <li>protected
<ul><li>只能在被定义的类和子类中访问，不能通过实例访问</li> <li>protected constructor：只能被实例化，不能被继承</li></ul></li> <li>readonly: 属性不可修改，必须有初始值，或在构造函数中被赋值</li> <li>static：只能由类名调用，不能通过实例访问，可继承</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">name</span><span class="token operator">:</span> string</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token punctuation">}</span>
    readonly name<span class="token operator">:</span> string
    <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
  	<span class="token keyword">static</span> <span class="token literal-property property">food</span><span class="token operator">:</span> string <span class="token operator">=</span> <span class="token string">'bread'</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Husky</span> <span class="token keyword">extends</span> <span class="token class-name">Dog</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">name</span><span class="token operator">:</span> string<span class="token punctuation">,</span> <span class="token literal-property property">color</span><span class="token operator">:</span> string</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>color <span class="token operator">=</span> color<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token literal-property property">color</span><span class="token operator">:</span> string
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Dog<span class="token punctuation">.</span>food<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Husky<span class="token punctuation">.</span>food<span class="token punctuation">)</span>
</code></pre></div><h4 id="_2、构造函数修饰符"><a href="#_2、构造函数修饰符" class="header-anchor">#</a> 2、构造函数修饰符</h4> <p>将参数变为实例属性，更简捷</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Husky1</span> <span class="token keyword">extends</span> <span class="token class-name">Dog</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">name</span><span class="token operator">:</span> string<span class="token punctuation">,</span> <span class="token keyword">public</span> <span class="token literal-property property">color</span><span class="token operator">:</span> string</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>color <span class="token operator">=</span> color
    <span class="token punctuation">}</span>
  	<span class="token comment">//成员定义可省略</span>
    <span class="token comment">//color: string</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_4、抽象类"><a href="#_4、抽象类" class="header-anchor">#</a> 4、抽象类</h3> <p>用途和思维：用于抽象出实例的共性，从而有利于代码复用和扩展，也可以用于实现多态</p> <ul><li>不能被实例化，只能被继承
<ul><li>抽象方法包含具体实现：子类直接复用</li> <li>抽象方法不包含具体实现：子类必须实现</li></ul></li> <li>多态：多个子类对父抽象类的方法有不同实现，实现运行时绑定</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>abstract <span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token comment">//抽象方法包含具体实现：子类直接复用</span>
    <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'eat'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//抽象方法不包含具体实现：子类必须实现</span>
    abstract <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span>
<span class="token punctuation">}</span>
<span class="token comment">//实例化报错：抽象方法只能继承不能实例化</span>
<span class="token comment">//let animal = new Animal()</span>
<span class="token keyword">class</span> <span class="token class-name">Cat</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span><span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">public</span> <span class="token literal-property property">name</span><span class="token operator">:</span> string</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token punctuation">}</span>
    <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'cat sleep'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> cat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span><span class="token string">'Jian'</span><span class="token punctuation">)</span>
cat<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment">//eat</span>
cat<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//cat sleep</span>

<span class="token comment">//多态：父类中定义抽象方法，在多个子类中对方法进行不同的实现</span>
<span class="token comment">//在程序运行时，根据不同的对象实现不同的操作，从而实现运行时绑定</span>
<span class="token keyword">class</span> <span class="token class-name">Rabbit</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span><span class="token punctuation">{</span>
    <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'rebbit sleep'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> rabbit <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Rabbit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> <span class="token literal-property property">animals</span><span class="token operator">:</span> Animal<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>cat<span class="token punctuation">,</span> rabbit<span class="token punctuation">]</span>
<span class="token comment">//cat sleep</span>
<span class="token comment">//rabbit sleep</span>
animals<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">i</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    i<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_5、this-类型"><a href="#_5、this-类型" class="header-anchor">#</a> 5、this 类型</h3> <p>类的成员方法可以返回 this</p> <ul><li>实现实例方法的链式调用</li> <li>在继承时，具有多态性，保持父子类之间接口调用的连贯性</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">WorkFlow</span> <span class="token punctuation">{</span>
  <span class="token function">step1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">step2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//链式调用</span>
<span class="token keyword">new</span> <span class="token class-name">WorkFlow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">step1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">step2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//在继承时，具有多态性，保持父子类之间接口调用的连贯性</span>
<span class="token comment">//this既可以为父类，又可以为子类</span>
<span class="token keyword">class</span> <span class="token class-name">Myflow</span> <span class="token keyword">extends</span> <span class="token class-name">WorkFlow</span> <span class="token punctuation">{</span>
  <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">new</span> <span class="token class-name">Myflow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">step1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">step2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_8、泛型"><a href="#_8、泛型" class="header-anchor">#</a> 8、泛型</h2> <p>泛型：不预先确定的数据类型，具体的类型在使用的时候才确定<br>
泛型的好处：</p> <ul><li>增强程序的可扩展性：函数或类可以很轻松地支持多种类型</li> <li>增强代码的可读性：不必写多条函数重载，或者冗长的联合类型申明</li> <li>灵活地控制类型之间的约束
思维模式：将泛型当做函数参数对待，代表类型不代表值</li></ul> <h3 id="_1、支持多种类型的方法"><a href="#_1、支持多种类型的方法" class="header-anchor">#</a> 1、支持多种类型的方法</h3> <ul><li>函数重载</li> <li>联合类型</li> <li>any 类型：丢失类型约束</li> <li>泛型：不预先确定的类型，使用时才确定</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//1. 函数重载</span>
<span class="token keyword">function</span> <span class="token function">log</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">value</span><span class="token operator">:</span> string</span><span class="token punctuation">)</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">log</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">value</span><span class="token operator">:</span> string<span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span><span class="token operator">:</span> string<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">log</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">value</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
    <span class="token keyword">return</span> value<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//2. 联合类型</span>
<span class="token keyword">function</span> <span class="token function">log1</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">value</span><span class="token operator">:</span> string <span class="token operator">|</span> string<span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span><span class="token operator">:</span> string <span class="token operator">|</span> string<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> value<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//3. any类型：丢失类型约束</span>
<span class="token keyword">function</span> <span class="token function">log2</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">value</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> value<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//4. 泛型</span>
<span class="token keyword">function</span> log3<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
    <span class="token keyword">return</span> value
<span class="token punctuation">}</span>
<span class="token comment">//调用：赋值T或者使用类型推断</span>
log3<span class="token operator">&lt;</span>string<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token function">log3</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_2、泛型函数"><a href="#_2、泛型函数" class="header-anchor">#</a> 2、泛型函数</h3> <ul><li>定义： <code>function generic&lt;T&gt;(arg: T):t</code></li> <li>调用
<ul><li><code>generic&lt;type&gt;(arg)</code></li> <li><code>generic(arg)：使用类型推断</code></li></ul></li> <li>泛型函数类型：<code>type Generic = &lt;T&gt;(arg:T)=&gt; T</code></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> log3<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> value<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//泛型函数类型</span>
type Log <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token constant">T</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token constant">T</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token literal-property property">myLog</span><span class="token operator">:</span> Log <span class="token operator">=</span> log3<span class="token punctuation">;</span>
</code></pre></div><h3 id="_3、泛型接口"><a href="#_3、泛型接口" class="header-anchor">#</a> 3、泛型接口</h3> <ul><li>定义：<code>interface Generic&lt;T&gt;{ (arg: T): T}</code></li> <li>实现：<code>let generic: Generic&lt;type&gt;(必须指定类型)</code></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//泛型接口：约束成员</span>
<span class="token comment">// interface Log {</span>
<span class="token comment">//     &lt;T&gt;(value: T): T</span>
<span class="token comment">// }</span>
<span class="token comment">//泛型接口：约束整个接口，实现时必须指定类型或设置默认类型</span>
<span class="token keyword">interface</span> <span class="token class-name">Log</span><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token operator">=</span> string<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> <span class="token literal-property property">myLog</span><span class="token operator">:</span> Log<span class="token operator">&lt;</span>number<span class="token operator">&gt;</span> <span class="token operator">=</span> log3<span class="token punctuation">;</span>
<span class="token function">myLog</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_4、泛型类"><a href="#_4、泛型类" class="header-anchor">#</a> 4、泛型类</h3> <ul><li>定义 -<code>class Generic&lt;T&gt;{method(value: T){}}</code> <ul><li>泛型不能应用于类的静态成员</li></ul></li> <li>实例化 -<code>let generic = new Generic&lt;type&gt;()</code> -<code>let generic = new Generic(), T 可为任意类型</code></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//泛型类</span>
<span class="token comment">//定义：class Generic&lt;T&gt;{ (arg: T): T}</span>
<span class="token comment">//注意：泛型不能应用与类的静态成员</span>
<span class="token keyword">class</span> <span class="token class-name">Log</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">run</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token constant">T</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
        <span class="token keyword">return</span> value
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//实现</span>
<span class="token keyword">let</span> loga <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Log</span><span class="token operator">&lt;</span>number<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
loga<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token comment">//未传，则T可能未任意类型</span>
<span class="token keyword">let</span> logb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Log</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
logb<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span>
<span class="token comment">//使用后，类型确认，只能传入string类型</span>
<span class="token comment">//报错：logb.run(1)</span>

</code></pre></div><h3 id="_5、泛型约束"><a href="#_5、泛型约束" class="header-anchor">#</a> 5、泛型约束</h3> <p>T extends U：T 必须具有 U 的属性</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//泛型约束：T必须具有U的属性</span>
<span class="token keyword">interface</span> <span class="token class-name">Length</span><span class="token punctuation">{</span>
    <span class="token literal-property property">length</span><span class="token operator">:</span> number
<span class="token punctuation">}</span>
<span class="token keyword">function</span> logc<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">Length</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> value<span class="token punctuation">.</span>length<span class="token punctuation">)</span>
    <span class="token keyword">return</span> value
<span class="token punctuation">}</span>
<span class="token comment">//传入的值必须有length属性</span>
<span class="token function">logc</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token function">logc</span><span class="token punctuation">(</span><span class="token string">'123'</span><span class="token punctuation">)</span>
<span class="token function">logc</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="_9、类型检查机制"><a href="#_9、类型检查机制" class="header-anchor">#</a> 9、类型检查机制</h2> <p>类型检查机制：Typescript 编译器在做类型检查时，所秉承的一些原则，以及表现出的一些行为<br></p> <p>作用：辅助开发，提高开发效率<br></p> <p>内部：类型推断、类型兼容性、类型保护<br></p> <h3 id="_1、类型推断"><a href="#_1、类型推断" class="header-anchor">#</a> 1、类型推断</h3> <p>不需要指定变量的类型（或函数的返回值类型），TypeScript 可以根据某些规则自动的为其推断出一个类型</p> <ul><li>基础类型推断
<ul><li>初始化变量</li> <li>设置函数默认参数</li> <li>确定函数返回值</li></ul></li> <li>最佳通用类型推断：推断出一个可以兼容当前所有类型的通用类型</li> <li>上下文推断：根据事件绑定推断出事件类型</li></ul> <h3 id="_2、类型断言"><a href="#_2、类型断言" class="header-anchor">#</a> 2、类型断言</h3> <ul><li>含义：用自己申明的类型覆盖类型推断</li> <li>方式：(推荐) 表达式 as type，不推荐<code>&lt;type&gt;</code> 表达式</li> <li>弊端：没有按照接口的约定赋值，不会报错</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//一、基础类型推断</span>
<span class="token comment">//1. 初始化变量</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">1</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>

<span class="token comment">//2. 设置函数默认参数</span>
<span class="token comment">//3. 确定函数返回值</span>
<span class="token comment">//x参数进行了推断</span>
<span class="token comment">//c返回值进行了推断</span>
<span class="token keyword">let</span> <span class="token function-variable function">c</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">x <span class="token operator">=</span> <span class="token number">1</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> x <span class="token operator">+</span> <span class="token number">1</span>

<span class="token comment">//二、最佳通用类型推断</span>
<span class="token comment">//推断出一个可以兼容当前所有类型的通用类型</span>
<span class="token comment">//d被推断出联合类型：(number | null) []</span>
<span class="token keyword">let</span> d <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">]</span>

<span class="token comment">//三、上下文推断</span>
<span class="token comment">//根据事件绑定推断出事件类型，event的属性可进行推断</span>
window<span class="token punctuation">.</span><span class="token function-variable function">onkeydown</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">//四、类型断言</span>
<span class="token keyword">interface</span> <span class="token class-name">Foo</span><span class="token punctuation">{</span>
    <span class="token literal-property property">bar</span><span class="token operator">:</span> number
<span class="token punctuation">}</span>
<span class="token keyword">let</span> foo <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token keyword">as</span> Foo
foo<span class="token punctuation">.</span>bar <span class="token operator">=</span> <span class="token number">1</span>
<span class="token comment">//建议写法</span>
<span class="token keyword">let</span> <span class="token literal-property property">foo1</span><span class="token operator">:</span> Foo <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">bar</span><span class="token operator">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_3、类型兼容性"><a href="#_3、类型兼容性" class="header-anchor">#</a> 3、类型兼容性</h3> <p>当一个类型 Y 可以被赋值给另一个类型 X 时，我们就可以说类型 X 兼容类型 Y<br></p> <p>x 兼容 Y：x（目标类型）= Y（源类型）<br></p> <p>兼容原则：<br></p> <ul><li>结构之间兼容：成员少的兼容成员多的</li> <li>函数之间兼容：参数多的兼容参数少的</li></ul> <h4 id="_1、接口兼容性"><a href="#_1、接口兼容性" class="header-anchor">#</a> 1、接口兼容性</h4> <p>鸭式辩型法：成员少的兼容成员多的</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">interface</span> <span class="token class-name">X</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">a</span><span class="token operator">:</span> any<span class="token punctuation">;</span>
  <span class="token literal-property property">b</span><span class="token operator">:</span> any<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Y</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">a</span><span class="token operator">:</span> any<span class="token punctuation">;</span>
  <span class="token literal-property property">b</span><span class="token operator">:</span> any<span class="token punctuation">;</span>
  <span class="token literal-property property">c</span><span class="token operator">:</span> any<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> <span class="token literal-property property">g</span><span class="token operator">:</span> <span class="token constant">X</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token literal-property property">h</span><span class="token operator">:</span> <span class="token constant">Y</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">//g兼容h：g = h，报错：h = g</span>
</code></pre></div><h4 id="_2、函数兼容性"><a href="#_2、函数兼容性" class="header-anchor">#</a> 2、函数兼容性</h4> <p>需满足三个条件才可兼容：参数个数、参数类型、返回值类型 <br></p> <ul><li><p>参数个数：目标函数多于源函数</p></li> <li><p>参数类型</p> <ul><li>参数为基本类型：必须匹配</li> <li>参数为对象</li> <li>严格模式：成员多的兼容成员少的</li> <li>非严格模式：相互兼容（函数参数双向协变）</li></ul></li> <li><p>返回值类型：目标函数必须与源函数相同，或为其子类型<br>
特殊兼容：<br></p> <ul><li><p>1.可选参数和剩余参数兼容，遵循原则</p> <ul><li><p>1.固定参数兼容可选参数和剩余参数</p></li> <li><p>2.可选参数不兼容固定参数和剩余参数(严格模式)</p></li> <li><p>3.剩余参数兼容可选参数和固定参数</p></li></ul></li> <li><p>2.函数重载：申明为目标函数，实现为源函数，目标函数需兼容实现函数</p></li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>type <span class="token function-variable function">Handler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">a</span><span class="token operator">:</span> number<span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span>
<span class="token keyword">function</span> <span class="token function">hof</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">handler</span><span class="token operator">:</span> Handler</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> handler
<span class="token punctuation">}</span>

<span class="token comment">//a. 参数个数：目标函数多余源函数</span>
<span class="token keyword">let</span> <span class="token function-variable function">handler1</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">a</span><span class="token operator">:</span> number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token function">hof</span><span class="token punctuation">(</span>handler1<span class="token punctuation">)</span>
<span class="token comment">//let handler2 = (a: number, b: number, c: number) =&gt; {}</span>
<span class="token comment">//报错不兼容：hof(handler2)</span>

<span class="token comment">//可选参数和剩余参数</span>
<span class="token keyword">let</span> <span class="token function-variable function">a</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">p1</span><span class="token operator">:</span> number<span class="token punctuation">,</span> <span class="token literal-property property">p2</span><span class="token operator">:</span> number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> <span class="token function-variable function">b</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">p1<span class="token operator">?</span><span class="token operator">:</span> number<span class="token punctuation">,</span> p2<span class="token operator">?</span><span class="token operator">:</span> number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> <span class="token function-variable function">c</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args<span class="token operator">:</span> number<span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment">//固定参数兼容可选参数和剩余参数</span>
a <span class="token operator">=</span> b
a <span class="token operator">=</span> c
<span class="token comment">//可选参数不兼容固定参数和剩余参数(严格模式)</span>
<span class="token comment">//tsconfig.json中：strictFunctionTypes: false，可兼容</span>
b <span class="token operator">=</span> a
b <span class="token operator">=</span> c
<span class="token comment">//剩余参数兼容可选参数和固定参数</span>
c <span class="token operator">=</span> a
c <span class="token operator">=</span> b


<span class="token comment">//b. 参数类型</span>
<span class="token comment">//简单类型必须匹配</span>
<span class="token keyword">let</span> <span class="token function-variable function">handler3</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">a</span><span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment">//报错：hof(handler3)</span>

<span class="token comment">//对象类型：</span>
<span class="token comment">//严格模式成员多的兼容成员少的</span>
<span class="token comment">//非严格模式：相互兼容(函数参数双向协变)，精确类型赋值给不精确类型</span>
<span class="token keyword">interface</span> <span class="token class-name">Point3D</span><span class="token punctuation">{</span>
    <span class="token literal-property property">x</span><span class="token operator">:</span> number<span class="token punctuation">;</span>
    <span class="token literal-property property">y</span><span class="token operator">:</span> number<span class="token punctuation">;</span>
    <span class="token literal-property property">z</span><span class="token operator">:</span> number<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Point2D</span><span class="token punctuation">{</span>
    <span class="token literal-property property">x</span><span class="token operator">:</span> number<span class="token punctuation">;</span>
    <span class="token literal-property property">y</span><span class="token operator">:</span> number<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> <span class="token function-variable function">p3d</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">point</span><span class="token operator">:</span> Point3D</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> <span class="token function-variable function">p2d</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">point</span><span class="token operator">:</span> Point2D</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
p3d <span class="token operator">=</span> p2d
<span class="token comment">//严格模式报错：p2d = p3d</span>


<span class="token comment">//c. 返回值类型：目标函数必须与源函数相同，或为其子类型</span>
<span class="token keyword">let</span> <span class="token function-variable function">d</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Alice'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token function-variable function">g</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Alice'</span><span class="token punctuation">,</span> <span class="token literal-property property">location</span><span class="token operator">:</span> <span class="token string">'Beijing'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
d <span class="token operator">=</span> g
<span class="token comment">//不兼容：g = d</span>

<span class="token comment">//函数重载: 申明为目标函数，实现为源函数，需兼容</span>
<span class="token keyword">function</span> <span class="token function">overload</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">a</span><span class="token operator">:</span> number<span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> number</span><span class="token punctuation">)</span><span class="token operator">:</span> number<span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">overload</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">a</span><span class="token operator">:</span> string<span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> string</span><span class="token punctuation">)</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">overload</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">a</span><span class="token operator">:</span> any<span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span><span class="token operator">:</span> any <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment">//报错：function overload(a: any, b: any, c: any): any {}</span>
</code></pre></div><h4 id="_3、枚举兼容性"><a href="#_3、枚举兼容性" class="header-anchor">#</a> 3、枚举兼容性</h4> <ul><li>枚举类型和数字类型相互兼容</li> <li>枚举类型之间不兼容</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//枚举兼容性</span>
<span class="token keyword">enum</span> Fruit <span class="token punctuation">{</span> Apple<span class="token punctuation">,</span> Banana <span class="token punctuation">}</span>
<span class="token keyword">enum</span> Color <span class="token punctuation">{</span> Red<span class="token punctuation">,</span> Yellow <span class="token punctuation">}</span>
<span class="token keyword">let</span> <span class="token literal-property property">fruit</span><span class="token operator">:</span> Fruit<span class="token punctuation">.</span>Apple <span class="token operator">=</span> <span class="token number">3</span>
<span class="token keyword">let</span> <span class="token literal-property property">no</span><span class="token operator">:</span> number <span class="token operator">=</span> Fruit<span class="token punctuation">.</span>Apple
<span class="token comment">//不兼容：let color: Color.Red = Fruit.Apple</span>
</code></pre></div><h4 id="_4、类兼容性"><a href="#_4、类兼容性" class="header-anchor">#</a> 4、类兼容性</h4> <ul><li>静态成员和构造函数不在比较范围</li> <li>两个类具有相同的实例成员，它们的实例相互兼容</li> <li>类中包含私有成员或受保护成员，只有父类和子类的实例相互兼容</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//类兼容性</span>
<span class="token comment">//构造函数和静态成员不做比较</span>
<span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">p</span><span class="token operator">:</span> number<span class="token punctuation">,</span> <span class="token literal-property property">q</span><span class="token operator">:</span> number</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token literal-property property">id</span><span class="token operator">:</span> number <span class="token operator">=</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">B</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> s <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">p</span><span class="token operator">:</span> number</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token literal-property property">id</span><span class="token operator">:</span> number <span class="token operator">=</span> <span class="token number">2</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> aa <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">A</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> bb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">B</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
aa <span class="token operator">=</span> bb
bb <span class="token operator">=</span> aa

<span class="token comment">//类中包含私有成员或受保护成员，只有父类和子类的实例相互兼容</span>
<span class="token keyword">class</span> <span class="token class-name">D</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">p</span><span class="token operator">:</span> number<span class="token punctuation">,</span> <span class="token literal-property property">q</span><span class="token operator">:</span> number</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token literal-property property">id</span><span class="token operator">:</span> number <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token keyword">private</span> <span class="token literal-property property">name</span><span class="token operator">:</span> string <span class="token operator">=</span> <span class="token string">''</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">H</span> <span class="token keyword">extends</span> <span class="token class-name">D</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> hh <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">H</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> dd <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">D</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
dd <span class="token operator">=</span> hh
hh <span class="token operator">=</span> dd
</code></pre></div><h4 id="_5、泛型兼容性"><a href="#_5、泛型兼容性" class="header-anchor">#</a> 5、泛型兼容性</h4> <ul><li>泛型接口：只有类型参数 T 被接口成员使用时，才会影响兼容性</li> <li>泛型函数：定义相同，没有指定类型参数时就兼容</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 泛型兼容性：只有类型参数T被接口成员使用时，才会影响兼容性</span>
<span class="token keyword">interface</span> <span class="token class-name">Empty</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> <span class="token literal-property property">obj1</span><span class="token operator">:</span> Empty<span class="token operator">&lt;</span>number<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token literal-property property">obj2</span><span class="token operator">:</span> Empty<span class="token operator">&lt;</span>string<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
obj1 <span class="token operator">=</span> obj2<span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">Empty1</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> <span class="token literal-property property">obj3</span><span class="token operator">:</span> Empty1<span class="token operator">&lt;</span>number<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token literal-property property">obj4</span><span class="token operator">:</span> Empty1<span class="token operator">&lt;</span>string<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
obj3 <span class="token operator">=</span> obj4<span class="token punctuation">;</span>

<span class="token comment">//泛型函数：定义相同，未指定类型时兼容</span>
<span class="token keyword">let</span> log1 <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token parameter"><span class="token constant">T</span></span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;x&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> x<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> log2 <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token constant">U</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>y<span class="token operator">:</span> <span class="token constant">U</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token parameter"><span class="token constant">U</span></span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;y&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
log1 <span class="token operator">=</span> log2<span class="token punctuation">;</span>
</code></pre></div><h3 id="_4、类型保护"><a href="#_4、类型保护" class="header-anchor">#</a> 4、类型保护</h3> <ul><li>含义：在特定的区块中保证变量属于某种确定的类型，可以在此区块中放心地引用此类型的属性，或者调用此类型的方法</li> <li>创建区块的方法
<ul><li>instanceof</li> <li>typeof</li> <li>in</li> <li>类型保护函数：特殊的返回值（arg is type 类型谓词）</li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">enum</span> Type <span class="token punctuation">{</span>Strong<span class="token punctuation">,</span> Week<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Java</span> <span class="token punctuation">{</span>
    <span class="token function">helloJava</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Hello Java'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token literal-property property">java</span><span class="token operator">:</span> string <span class="token operator">=</span> <span class="token string">'java'</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">JavaScript</span> <span class="token punctuation">{</span>
    <span class="token function">helloJavaScript</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Hello JavaScript'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//类型断言</span>
<span class="token keyword">function</span> <span class="token function">getLanguage</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">type</span><span class="token operator">:</span> Type</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> lang <span class="token operator">=</span> type <span class="token operator">===</span> Type<span class="token punctuation">.</span>Strong <span class="token operator">?</span> <span class="token keyword">new</span> <span class="token class-name">Java</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">JavaScript</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>lang <span class="token keyword">as</span> Java<span class="token punctuation">)</span><span class="token punctuation">.</span>helloJava<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">(</span>lang <span class="token keyword">as</span> Java<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">helloJava</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token punctuation">(</span>lang <span class="token keyword">as</span> JavaScript<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">helloJavaScript</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> lang
<span class="token punctuation">}</span>
<span class="token function">getLanguage</span><span class="token punctuation">(</span>Type<span class="token punctuation">.</span>Strong<span class="token punctuation">)</span>

<span class="token comment">//使用类型保护</span>
<span class="token keyword">function</span> <span class="token function">getLanguage1</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">type</span><span class="token operator">:</span> Type<span class="token punctuation">,</span> <span class="token literal-property property">x</span><span class="token operator">:</span> string <span class="token operator">|</span> number</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> lang <span class="token operator">=</span> type <span class="token operator">===</span> Type<span class="token punctuation">.</span>Strong <span class="token operator">?</span> <span class="token keyword">new</span> <span class="token class-name">Java</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">JavaScript</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">//1.instanceof</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>lang <span class="token keyword">instanceof</span> <span class="token class-name">Java</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        lang<span class="token punctuation">.</span><span class="token function">helloJava</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        lang<span class="token punctuation">.</span><span class="token function">helloJavaScript</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//2.in</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">'java'</span> <span class="token keyword">in</span> lang<span class="token punctuation">)</span><span class="token punctuation">{</span>
        lang<span class="token punctuation">.</span><span class="token function">helloJava</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        lang<span class="token punctuation">.</span><span class="token function">helloJavaScript</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//3.typeof</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> x <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
       console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>length<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        x<span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> lang
<span class="token punctuation">}</span>

<span class="token comment">//4. 类型保护函数：特殊的返回值（arg is type 类型谓词）</span>
<span class="token keyword">function</span> <span class="token function">isJava</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">lang</span><span class="token operator">:</span> Java <span class="token operator">|</span> JavaScript</span><span class="token punctuation">)</span><span class="token operator">:</span> lang is Java<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>lang <span class="token keyword">as</span> Java<span class="token punctuation">)</span><span class="token punctuation">.</span>helloJava <span class="token operator">!==</span> <span class="token keyword">undefined</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">getLanguage2</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">type</span><span class="token operator">:</span> Type<span class="token punctuation">,</span> <span class="token literal-property property">x</span><span class="token operator">:</span> string <span class="token operator">|</span> number</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> lang <span class="token operator">=</span> type <span class="token operator">===</span> Type<span class="token punctuation">.</span>Strong <span class="token operator">?</span> <span class="token keyword">new</span> <span class="token class-name">Java</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">JavaScript</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isJava</span><span class="token punctuation">(</span>lang<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        lang<span class="token punctuation">.</span><span class="token function">helloJava</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        lang<span class="token punctuation">.</span><span class="token function">helloJavaScript</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_10、高级类型"><a href="#_10、高级类型" class="header-anchor">#</a> 10、高级类型</h2> <p>ts 为了保证语言的灵活性引入的一些高级特性，应变多变复杂的开发场景</p> <h3 id="_1、交叉类型、联合类型"><a href="#_1、交叉类型、联合类型" class="header-anchor">#</a> 1、交叉类型、联合类型</h3> <ul><li>交叉类型（类型并集）
<ul><li>含义：将多个类型合并为一个类型，新的类型将具有所有类型的特性</li> <li>应用场景：混入</li></ul></li> <li>联合类型（类型交集）
<ul><li>含义：类型并不确定，可能为多个类型中的一个</li> <li>应用场景：多类型支持</li> <li>可区分的联合类型：结合联合类型和字面量类型的类型保护方法</li> <li>字面量类型
<ul><li>字符串子面量</li> <li>数字字面量</li> <li>应用场景：限定变量取值范围</li></ul></li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">interface</span> <span class="token class-name">DogInterface</span> <span class="token punctuation">{</span>
    <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">CatInterface</span> <span class="token punctuation">{</span>
    <span class="token function">jump</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span>
<span class="token punctuation">}</span>
<span class="token comment">//1. 交叉类型：用&amp;符号连接</span>
<span class="token comment">//需实现两个接口的方法</span>
<span class="token keyword">let</span> <span class="token literal-property property">pet</span><span class="token operator">:</span> DogInterface <span class="token operator">&amp;</span> CatInterface <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">jump</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//2. 联合类型：使用|，只能访问交集属性</span>
<span class="token comment">//类型联合</span>
<span class="token keyword">let</span> <span class="token literal-property property">a1</span><span class="token operator">:</span> number <span class="token operator">|</span> string <span class="token operator">=</span> <span class="token string">'a'</span>
<span class="token comment">//字面量联合类型：字符串联合</span>
<span class="token keyword">let</span> <span class="token literal-property property">b1</span><span class="token operator">:</span> <span class="token string">'a'</span> <span class="token operator">|</span> <span class="token string">'b'</span> <span class="token operator">|</span> <span class="token string">'c'</span>
<span class="token comment">//字面量联合类型：数字联合</span>
<span class="token keyword">let</span> <span class="token literal-property property">c1</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">2</span> <span class="token operator">|</span> <span class="token number">3</span>
<span class="token comment">//对象联合类型</span>
<span class="token keyword">class</span> <span class="token class-name">Dog1</span> <span class="token keyword">implements</span> <span class="token class-name">DogInterface</span> <span class="token punctuation">{</span>
    <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Cat1</span> <span class="token keyword">implements</span> <span class="token class-name">CatInterface</span> <span class="token punctuation">{</span>
    <span class="token function">jump</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">enum</span> Master <span class="token punctuation">{</span> Boy<span class="token punctuation">,</span> Girl <span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">getPet</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">master</span><span class="token operator">:</span> Master</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> pet <span class="token operator">=</span> master <span class="token operator">===</span> Master<span class="token punctuation">.</span>Boy <span class="token operator">?</span> <span class="token keyword">new</span> <span class="token class-name">Dog1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Cat1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">//pet为联合类型 Dog1｜Cat1，只能调用共有eat方法</span>
    pet<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> pet
<span class="token punctuation">}</span>

<span class="token comment">//3. 可区分的联合类型：结合联合类型和字面量类型的类型保护方法</span>
<span class="token keyword">interface</span> <span class="token class-name">Square</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">kind</span><span class="token operator">:</span> <span class="token string">&quot;square&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">size</span><span class="token operator">:</span> number
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Rectangle</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">kind</span><span class="token operator">:</span> <span class="token string">&quot;rectangle&quot;</span><span class="token punctuation">;</span>
    <span class="token literal-property property">width</span><span class="token operator">:</span> number<span class="token punctuation">;</span>
    <span class="token literal-property property">height</span><span class="token operator">:</span> number<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Circle</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">kind</span><span class="token operator">:</span> <span class="token string">'circle'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">r</span><span class="token operator">:</span> number
<span class="token punctuation">}</span>
type Shape <span class="token operator">=</span> Square <span class="token operator">|</span> Rectangle
<span class="token comment">//根据两种类型的公共属性建立类型保护机制</span>
<span class="token keyword">function</span> <span class="token function">area</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">s</span><span class="token operator">:</span> Shape</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>s<span class="token punctuation">.</span>kind<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token string">&quot;square&quot;</span><span class="token operator">:</span>
            <span class="token keyword">return</span> s<span class="token punctuation">.</span>size <span class="token operator">*</span> s<span class="token punctuation">.</span>size
        <span class="token keyword">case</span> <span class="token string">&quot;rectangle&quot;</span><span class="token operator">:</span>
            <span class="token keyword">return</span> s<span class="token punctuation">.</span>height <span class="token operator">*</span> s<span class="token punctuation">.</span>width
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
type Shape1 <span class="token operator">=</span> Square <span class="token operator">|</span> Rectangle <span class="token operator">|</span> Circle
<span class="token comment">//添加分之保护检查：使用返回值number</span>
<span class="token keyword">function</span> <span class="token function">area1</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">s</span><span class="token operator">:</span> Shape1</span><span class="token punctuation">)</span><span class="token operator">:</span> number<span class="token punctuation">{</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>s<span class="token punctuation">.</span>kind<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token string">&quot;square&quot;</span><span class="token operator">:</span>
            <span class="token keyword">return</span> s<span class="token punctuation">.</span>size <span class="token operator">*</span> s<span class="token punctuation">.</span>size
        <span class="token keyword">case</span> <span class="token string">&quot;rectangle&quot;</span><span class="token operator">:</span>
            <span class="token keyword">return</span> s<span class="token punctuation">.</span>height <span class="token operator">*</span> s<span class="token punctuation">.</span>width
        <span class="token keyword">case</span> <span class="token string">&quot;circle&quot;</span><span class="token operator">:</span>
            <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> s<span class="token punctuation">.</span>r <span class="token operator">**</span> <span class="token number">2</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//添加分之保护检查：使用never类型</span>
<span class="token keyword">function</span> <span class="token function">area2</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">s</span><span class="token operator">:</span> Shape1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>s<span class="token punctuation">.</span>kind<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token string">&quot;square&quot;</span><span class="token operator">:</span>
            <span class="token keyword">return</span> s<span class="token punctuation">.</span>size <span class="token operator">*</span> s<span class="token punctuation">.</span>size
        <span class="token keyword">case</span> <span class="token string">&quot;rectangle&quot;</span><span class="token operator">:</span>
            <span class="token keyword">return</span> s<span class="token punctuation">.</span>height <span class="token operator">*</span> s<span class="token punctuation">.</span>width
        <span class="token keyword">case</span> <span class="token string">&quot;circle&quot;</span><span class="token operator">:</span>
            <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> s<span class="token punctuation">.</span>r <span class="token operator">**</span> <span class="token number">2</span>
        <span class="token comment">//Argument of type 'Circle' is not assignable to parameter of type 'never'.</span>
        <span class="token comment">//检查s是否为never类型</span>
        <span class="token comment">//s为never类型，不会走到该分之</span>
        <span class="token comment">//s不为never类型，前面分之有遗漏</span>
        <span class="token keyword">default</span><span class="token operator">:</span>
            <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">e</span><span class="token operator">:</span> never</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">area2</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">kind</span><span class="token operator">:</span> <span class="token string">'circle'</span><span class="token punctuation">,</span> <span class="token literal-property property">r</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_2、索引类型"><a href="#_2、索引类型" class="header-anchor">#</a> 2、索引类型</h3> <ul><li>几个重要概念：
<ul><li>keyof T（索引查询操作符）：类型 T 公共属性名字的字面量联合类型</li> <li>T[k]（索引访问操作符）：对象 T 的属性 K 所代表的类型</li> <li>泛型约束</li></ul></li> <li>应用场景：从一个对象中选取某些属性的值</li> <li>索引类型能实现对对象的查询和访问，再配合泛型约束，建立对象、对象属性及属性值的约束关系</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//索引类型</span>
<span class="token keyword">let</span> obja <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token number">3</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">getValues</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">obj</span><span class="token operator">:</span> any<span class="token punctuation">,</span> <span class="token literal-property property">keys</span><span class="token operator">:</span> string<span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> keys<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">key</span> <span class="token operator">=&gt;</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getValues</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//['1', '2']</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getValues</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'e'</span><span class="token punctuation">,</span> <span class="token string">'f'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//[undefined, undefined]</span>


<span class="token keyword">interface</span> <span class="token class-name">Obj</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">a</span><span class="token operator">:</span> number<span class="token punctuation">,</span>
    <span class="token literal-property property">b</span><span class="token operator">:</span> string
<span class="token punctuation">}</span>
<span class="token comment">//keyof T: 查询索引操作</span>
<span class="token comment">//let key: a | b</span>
<span class="token keyword">let</span> <span class="token literal-property property">key</span><span class="token operator">:</span> keyof Obj <span class="token comment">//a | b</span>

<span class="token comment">//T[k]: 索引访问操作符</span>
<span class="token comment">//let value: number</span>
<span class="token keyword">let</span> <span class="token literal-property property">value</span><span class="token operator">:</span> Obj<span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">]</span>

<span class="token comment">// T extends U：泛型约束，继承某个类型获取某些属性</span>

<span class="token comment">//类型约束改造</span>
<span class="token comment">//索引类型能实现对对象的查询和访问，再配合泛型约束，建立对象、对象属性及属性值的约束关系</span>
<span class="token keyword">function</span> getValues1<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> k <span class="token keyword">extends</span> <span class="token class-name">keyof</span> <span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>obj<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> <span class="token literal-property property">keys</span><span class="token operator">:</span> k<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> keys<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">key</span> <span class="token operator">=&gt;</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">//报错：console.log(getValues1(obj, ['e', 'f']))</span>
</code></pre></div><h3 id="_3、映射类型"><a href="#_3、映射类型" class="header-anchor">#</a> 3、映射类型</h3> <p>本质是预先定义的泛型接口，通常结合索引类型获取对象的属性或属性值，从而产生新类型</p> <ul><li>含义：从旧类型创建出新类型</li> <li>应用场景：前三种为同态，只作用于 T 的属性
<ul><li><code>Readonly&lt;T&gt;</code>：将 T 的所有属性变为只读</li> <li><code>Partial&lt;T&gt;</code>：将 T 的所有属性变为可选</li> <li><code>Pick&lt;T,K&gt;</code>：选取以 K 为属性的对象 T 的子集</li> <li><code>Record&lt;K,T&gt;</code>：创建属性为 K 的新对象，属性值的类型为 T</li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">interface</span> <span class="token class-name">Obja</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">a</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
  <span class="token literal-property property">b</span><span class="token operator">:</span> number<span class="token punctuation">;</span>
  <span class="token literal-property property">c</span><span class="token operator">:</span> boolean<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//1、同态：只会作用于T的属性，不会产生新的属性</span>
<span class="token comment">//内置：只读属性</span>
type ReadonlyObj <span class="token operator">=</span> Readonly<span class="token operator">&lt;</span>Obja<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token comment">//内置类库：lib.es5.d.ts</span>
<span class="token comment">//实现代码</span>
<span class="token comment">/* type Readonly&lt;T&gt; = {
    //keyof T：索引的联合类型
    //p in 循环操作
    readonly [P in keyof T]: T[P];
}; */</span>

<span class="token comment">//内置：可选属性</span>
type PartialObj <span class="token operator">=</span> Partial<span class="token operator">&lt;</span>Obja<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token comment">//实现代码</span>
<span class="token comment">/* type Partial&lt;T&gt; = {
    [P in keyof T]?: T[P];
}; */</span>

<span class="token comment">//内置：抽取子集</span>
type PickObj <span class="token operator">=</span> Pick<span class="token operator">&lt;</span>Obja<span class="token punctuation">,</span> <span class="token string">&quot;a&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;b&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token comment">/* 实现原理
type Pick&lt;T, K extends keyof T&gt; = {
    [P in K]: T[P];
};
*/</span>

<span class="token comment">// 2、非同态：产生新属性</span>
type RecordObj <span class="token operator">=</span> Record<span class="token operator">&lt;</span><span class="token string">&quot;x&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;y&quot;</span><span class="token punctuation">,</span> Obja<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token comment">/*
type RecordObj = {
    x: Obja;
    y: Obja;
}
*/</span>
</code></pre></div><h3 id="_4、条件类型"><a href="#_4、条件类型" class="header-anchor">#</a> 4、条件类型</h3> <ul><li>含义：T extends U ? X : Y，如果类型 T 可以赋值给类型 U，那么结果类型就是 X，否则就是 Y</li> <li>应用场景
<ul><li><code>Exclude&lt;T,U&gt;</code>：从 T 中过滤掉可以赋值给 U 的类型</li> <li><code>Extract&lt;T,U&gt;</code>：从 T 中抽取出可以赋值为 U 的类型</li> <li><code>NonNullable&lt;T&gt;</code>：从 T 中除去 undefined 和 null</li> <li><code>ReturnType&lt;T&gt;</code>：获取函数的返回值类型</li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// T extends U ? x: y</span>
<span class="token comment">// T可以被赋值为类型U则为x，否则返回y</span>

type TypeName<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token operator">=</span>
    <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">string</span> <span class="token operator">?</span> <span class="token string">&quot;string&quot;</span> <span class="token operator">:</span>
    <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">number</span> <span class="token operator">?</span> <span class="token string">&quot;number&quot;</span> <span class="token operator">:</span>
    <span class="token string">&quot;object&quot;</span><span class="token punctuation">;</span>

type <span class="token constant">T1</span> <span class="token operator">=</span> TypeName<span class="token operator">&lt;</span>string<span class="token operator">&gt;</span> <span class="token comment">//string</span>
type <span class="token constant">T2</span> <span class="token operator">=</span> TypeName<span class="token operator">&lt;</span>string<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token comment">//object</span>

<span class="token comment">// 分布式条件类型</span>
<span class="token comment">// ( A | B) extends U ? X : Y</span>
<span class="token comment">// ( A extends U ? X : Y) | ( B extends U ? X : Y)</span>
type <span class="token constant">T3</span> <span class="token operator">=</span> TypeName<span class="token operator">&lt;</span>string <span class="token operator">|</span> string<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token comment">//&quot;string&quot; | &quot;object&quot;</span>

type Diff<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">U</span> <span class="token operator">?</span> never <span class="token operator">:</span> <span class="token constant">T</span>
type <span class="token constant">T4</span> <span class="token operator">=</span> Diff<span class="token operator">&lt;</span><span class="token string">&quot;a&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;b&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;a&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;e&quot;</span><span class="token operator">&gt;</span> <span class="token comment">// &quot;b&quot; | &quot;c&quot;</span>
<span class="token comment">//Diff&lt;&quot;a&quot;, &quot;a&quot; | &quot;e&quot;&gt; | Diff&lt;&quot;b&quot;, &quot;a&quot; | &quot;e&quot;&gt; | Diff&lt;&quot;c&quot;, &quot;a&quot; | &quot;e&quot;&gt;</span>
<span class="token comment">//never | &quot;b&quot; | &quot;c&quot;</span>
<span class="token comment">//&quot;b&quot; | &quot;c&quot;</span>

type NotNull<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token operator">=</span> Diff<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span> <span class="token operator">|</span> <span class="token keyword">null</span><span class="token operator">&gt;</span>
type <span class="token constant">T5</span> <span class="token operator">=</span> NotNull<span class="token operator">&lt;</span>string <span class="token operator">|</span> number <span class="token operator">|</span> <span class="token keyword">undefined</span> <span class="token operator">|</span> <span class="token keyword">null</span><span class="token operator">&gt;</span> <span class="token comment">// string | number</span>

type <span class="token constant">T6</span> <span class="token operator">=</span> ReturnType<span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> string<span class="token operator">&gt;</span> <span class="token comment">//string</span>
<span class="token comment">//infer：待推断，延迟推断</span>
<span class="token comment">//type ReturnType&lt;T extends (...args: any) =&gt; any&gt; = T extends (...args: any) =&gt; infer R ? R : any;</span>

</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新时间:</span> <span class="time">2/20/2023, 4:47:14 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blogs/ts/typeScript.html" class="prev">
        TypeScript
      </a></span> <span class="next"><a href="/blogs/ts/tsProject.html">
        TypeScript工程
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blogs/assets/js/app.318ed052.js" defer></script><script src="/blogs/assets/js/2.b253f094.js" defer></script><script src="/blogs/assets/js/25.5d5a6655.js" defer></script>
  </body>
</html>
